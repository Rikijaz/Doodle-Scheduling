{"version":3,"sources":["components/Snackbar.js","components/firebase.js","components/DoodleCalendar.js","components/AddSecondPage.js","components/InviteContacts.js","components/AddThirdPage.js","components/AddEvent.js","components/Form.js","components/Invite.js","components/Cards.js","components/Modal/Modal.js","components/EventCalendar/EventCalendar.js","components/EventHome.js","components/AddContact.js","components/ViewContacts.js","components/Notifcations.js","components/header.js","components/Join.js","components/EventManager.js","components/Login.js","components/Profile.js","components/ViewContactProfile.js","App.js","serviceWorker.js","index.js","components/logo.png"],"names":["variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","withStyles","theme","backgroundColor","green","palette","dark","primary","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","unit","message","display","alignItems","props","classes","className","onClose","variant","other","Icon","SnackbarContent","clsx","aria-describedby","id","action","IconButton","key","aria-label","color","close","onClick","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","storage","DoodleCalendar","handleEventRemove","event","selectedIntervals","state","index","findIndex","interval","uid","splice","setState","handleEventUpdate","handleSelect","newIntervals","lastUid","intervals","map","concat","length","console","log","parentMethod","getCalendarStyle","padding","displayCurrentEvents","currentEvents","i","currentUser","JSON","parse","localStorage","getItem","collection","where","onSnapshot","data","forEach","doc","eventData","end","moment","endDate","start","startDate","value","title","push","style","this","dayFormat","startTime","h","m","endTime","scaleFormat","numberOfDays","onIntervalSelect","onIntervalUpdate","onIntervalRemove","useModal","React","Component","AddSecondPage","changeCalendar","calendar","onEventSubmitted","format","eventStartDate","eventEndDate","setItem","stringify","renderCalendar","e","children","renderButtons","goToFirstPage","size","Button","type","goToThirdPage","endIcon","cancelEvent","useStyles","makeStyles","root","textAlign","InviteContacts","useState","personEmail","setPersonEmail","emails","setEmails","useEffect","get","then","exists","temp","contacts","c","email","setSharedEvent","FormControl","InputLabel","margin","Select","labelId","multiple","onChange","target","input","Input","renderValue","selected","join","name","MenuItem","Checkbox","checked","indexOf","ListItemText","AddThirdPage","handleCheckbox","renderOptions","FormGroup","row","FormControlLabel","control","label","renderContactDropdown","l","list","invite_list","goToSecondPage","submitEvent","categories","Object","freeze","None","Hobbies","Social","Errands","Projects","Miscellaneous","AddEvent","handleErrorClose","reason","errorMessageOpen","handleSuccessClose","successMessageOpen","handleTitle","t","handleDescription","des","description","onSubmitFirstPage","preventDefault","category","firstPage","secondPage","thirdPage","handleCategoryMenuClick","selectedCategory","handleClose","anchorEl","openMenu","handleClick","currentTarget","invitees","code","makeCode","idOfEditEvent","editingEvent","uuid","v4","batch","accepted_invitees","x","id2","set","user","seen","typeOf","eventTitle","commit","catch","err","update","templateId","emailEvent","emailDescription","emailStartDate","emailCategory","window","emailjs","send","res","owners","declined_invitees","setHomePage","result","characters","charactersLength","charAt","Math","floor","random","viewForm","Container","maxWidth","aria-controls","aria-haspopup","Menu","open","onSubmit","TextField","placeholder","fullWidth","shared","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Form","contentList","emailList","handleChange","bind","handleSubmit","events","required","feedback","width","height","sendFeedback","message_html","from_name","reply_to","handleDisplay","variables","Transition","forwardRef","ref","Slide","direction","Invite","setOpen","originalInvitees","setOriginalInvitees","fix","setFix","temp2","filter","includes","Dialog","TransitionComponent","keepMounted","aria-labelledby","DialogTitle","DialogContent","n","DialogActions","Cards","handleShareEvent","startShare","expanded","isShared","hasAccepted","dataInvitees","invitee","acceptedInvitees","acceptedInvitee","declinedInvitees","declinedInvitee","Owners","owner","shareStatus","invitePeople","editButton","editEvent","deleteButton","deleteEvent","acceptIcon","acceptInvite","declineInvite","Card","CardContent","Typography","component","gutterBottom","CardActions","aria-expanded","Collapse","in","timeout","unmountOnExit","radius","marginBottom","marginTop","listStyleType","Modal","show","calendarEventDayData","date","split","EventCalendar","showModal","onDateClick","day","selectedDate","nextMonth","currentMonth","dateFns","prevMonth","Date","a","b","valueOf","days","areThereEvents","undefined","areThereSharedEvents","sharedEvents","areThereAcceptedEvents","acceptedEvents","duplicate","eventDate","calendarEventData","calendarData","isEvent","calendarEventDay","calendarEventMonth","multipleEventsTitle","monthStart","monthEnd","rows","formattedDate","calendarEvents","j","sort","compareEventStartDates","replace","toString","renderHeader","renderDays","renderCells","EventHome","sendEmail","showForm","switchEventView","showShared","setEventOrder","order","handleClose3","eventSortOrder","showEvents","showSharedEvents","showAcceptedEvents","showCalendar","displayedEvents","isSearching","filteredEvents","compareEventStartDatesAscending","compareEventStartDatesDescending","compareEventCategory","areThereNoEvents","filteredSharedEvents","areThereNoSharedEvents","filteredAcceptedEvents","areNoAcceptedEvents","handleSearch","text","search","filterEvents","eventsToFilter","searchLowerCase","toLowerCase","getMainStyle","background","getBtnStyle","handleAddEventMenu","beginAddEvent","handleClick2","anchorEl2","openMenu2","handleClick3","anchorEl3","openMenu3","handleClose2","handleJoinEventMenu","beginJoinEvent","find","send_to","subject","delete","document","FieldValue","arrayRemove","arrayUnion","handleMenuClick","inputProps","tempObject","unsubscribe1","unsubscribe2","unsubscribe3","AddContact","userInput","setUserInput","errorOpen","setErrorOpen","successOpen","setSuccessOpen","setMessage","DialogContentText","autoFocus","docSnapshot","newContacts","contact","displayName","pictureURL","ViewContacts","setListofContacts","refresh","setRefresh","xd","o","obj","src","alt","vertical-align","startIcon","handleDelete","contactEmail","Link","to","Notifcations","getMessage","New","Paper","Grid","container","wrap","item","xs","headerStyle","fontFamily","headButtonStyle","Header","displayNotifications","notifications","tempDoc","NotificationBar","notification","addContactsPrompt","unreadNotifications","tempNotifications","activeNotificationCount","logo","Badge","badgeContent","Join","querySnapshot","empty","EventManager","removeItem","setAdd","joinEvent","viewShared","homePage","joinDialog","uiConfig","signInFlow","signInOptions","provider","auth","GoogleAuthProvider","PROVIDER_ID","authMethod","clientId","EmailAuthProvider","requireDisplayName","callbacks","signInSuccessWithAuthResult","Login","componentDidMount","onAuthStateChanged","isSignedIn","docReference","documentSnapshot","polls","photoURL","picURL","current_user_email","uiCallback","ui","disableAutoSignIn","firebaseAuth","logInStyle","top","position","Profile","nameDisplay","userName","bioDisplay","bio","userBio","oldURL","handleUploadStart","isUploading","progress","handleProgress","handleUploadError","handleUploadSuccess","filename","profilePic","child","getDownloadURL","url","signOut","clear","updateDb","border-radius","hidden","accept","randomizeFilename","storageRef","onUploadStart","onUploadError","onUploadSuccess","onProgress","cols","profileStyle","ViewContactProfile","contactURL","contactBio","contactName","App","exact","path","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.0afbecd6.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport green from '@material-ui/core/colors/green';\r\nimport amber from '@material-ui/core/colors/amber';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst variantIcon = {\r\n  success: CheckCircleIcon,\r\n  warning: WarningIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst styles = theme => ({\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  warning: {\r\n    backgroundColor: amber[700],\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconVariant: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nfunction MySnackbarContent(props) {\r\n  const { classes, className, message, onClose, variant, ...other } = props;\r\n  const Icon = variantIcon[variant];\r\n\r\n  return (\r\n    <SnackbarContent\r\n      className={clsx(classes[variant], className)}\r\n      aria-describedby=\"client-snackbar\"\r\n      message={\r\n        <span id=\"client-snackbar\" className={classes.message}>\r\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\r\n          {message}\r\n        </span>\r\n      }\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"Close\"\r\n          color=\"inherit\"\r\n          className={classes.close}\r\n          onClick={onClose}\r\n        >\r\n          <CloseIcon className={classes.icon} />\r\n        </IconButton>,\r\n      ]}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n\r\nMySnackbarContent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  message: PropTypes.node,\r\n  onClose: PropTypes.func,\r\n  variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(MySnackbarContent);","import firebase from \"firebase\";\r\nimport \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAmcdm-nCXD4ahr4EwKddfHQ_vpqkMEPWA\",\r\n    authDomain: \"cs180-schedulingapp.firebaseapp.com\",\r\n    databaseURL: \"https://cs180-schedulingapp.firebaseio.com\",\r\n    projectId: \"cs180-schedulingapp\",\r\n    storageBucket: \"cs180-schedulingapp.appspot.com\",\r\n    messagingSenderId: \"350264880268\",\r\n    appId: \"1:350264880268:web:4fb4718431afc39b6e9fa9\",\r\n    measurementId: \"G-DBB71H8E8J\"\r\n};\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nexport {firebase, db};\r\nexport const storage = firebase.storage();","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport WeekCalendar from \"react-week-calendar\";\r\nimport { db, firebase } from \"./firebase\";\r\n\r\n// garbage text for testing pull requests to dev\r\n\r\nexport default class DoodleCalendar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lastUid: 1,\r\n            selectedIntervals: [\r\n                // {\r\n                //   uid: 1,\r\n                //   start: moment({h: 6, m: 30}),\r\n                //   end: moment({h: 7, m: 59}),\r\n                //   value: \"CS150 exam\"\r\n                // },\r\n            ]\r\n        };\r\n\r\n        this.displayCurrentEvents();\r\n    }\r\n\r\n    handleEventRemove = event => {\r\n        const { selectedIntervals } = this.state;\r\n        //console.log('Removing event');\r\n\r\n        const index = selectedIntervals.findIndex(interval => interval.uid === event.uid);\r\n        if (index > -1) {\r\n            selectedIntervals.splice(index, 1);\r\n            this.setState({ selectedIntervals });\r\n        }\r\n    };\r\n\r\n    handleEventUpdate = event => {\r\n        const { selectedIntervals } = this.state;\r\n        //console.log('Updating event');\r\n\r\n        const index = selectedIntervals.findIndex(interval => interval.uid === event.uid);\r\n        if (index > -1) {\r\n            selectedIntervals[index] = event;\r\n            this.setState({ selectedIntervals });\r\n        }\r\n    };\r\n\r\n    handleSelect = newIntervals => {\r\n        const { lastUid, selectedIntervals } = this.state;\r\n        const intervals = newIntervals.map((interval, index) => {\r\n            return {\r\n                ...interval,\r\n                uid: lastUid + index\r\n            };\r\n        });\r\n\r\n        this.setState({\r\n            selectedIntervals: selectedIntervals.concat(intervals),\r\n            lastUid: lastUid + newIntervals.length\r\n        });\r\n\r\n        console.log(selectedIntervals);\r\n\r\n        this.props.parentMethod(intervals);\r\n    };\r\n\r\n    displayCurrentEvents() {\r\n        let currentEvents = [];\r\n\r\n        let i = 0;\r\n\r\n        const currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        \r\n        db.collection(\"events\")\r\n            .where(\"owners\", \"array-contains\", currentUser)\r\n            .onSnapshot(data => {\r\n                data.forEach(doc => {\r\n                    i++;\r\n                    var eventData = {\r\n                        end: moment(doc.data().endDate),\r\n                        start: moment(doc.data().startDate),\r\n                        value: doc.data().title,\r\n                        uid: i\r\n                    };\r\n\r\n                    currentEvents.push(eventData);\r\n                });\r\n                this.setState({ selectedIntervals: currentEvents });\r\n            });\r\n\r\n        db.collection(\"events\")\r\n            .where(\"invitees\", \"array-contains\", currentUser)\r\n            .onSnapshot(data => {\r\n                data.forEach(doc => {\r\n                    i++;\r\n                    var eventData = {\r\n                        end: moment(doc.data().endDate),\r\n                        start: moment(doc.data().startDate),\r\n                        value: doc.data().title,\r\n                        uid: i\r\n                    };\r\n\r\n                    currentEvents.push(eventData);\r\n                });\r\n                this.setState({ selectedIntervals: currentEvents });\r\n            });\r\n\r\n        db.collection(\"events\")\r\n            .where(\"accepted_invitees\", \"array-contains\", currentUser)\r\n            .onSnapshot(data => {\r\n                data.forEach(doc => {\r\n                    i++;\r\n                    var eventData = {\r\n                        end: moment(doc.data().endDate),\r\n                        start: moment(doc.data().startDate),\r\n                        value: doc.data().title,\r\n                        uid: i\r\n                    };\r\n\r\n                    currentEvents.push(eventData);\r\n                });\r\n                this.setState({ selectedIntervals: currentEvents });\r\n            });\r\n    }\r\n\r\n    getCalendarStyle = () => {\r\n        return {\r\n            padding: \"45px\"\r\n        };\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div style={this.getCalendarStyle()}>\r\n                <WeekCalendar\r\n                    dayFormat={\"dddd, MM.DD\"}\r\n                    startTime={moment({ h: 8, m: 0 })}\r\n                    endTime={moment({ h: 20, m: 50 })}\r\n                    scaleFormat={\"hh:mm a\"}\r\n                    numberOfDays={7}\r\n                    selectedIntervals={this.state.selectedIntervals}\r\n                    onIntervalSelect={this.handleSelect}\r\n                    onIntervalUpdate={this.handleEventUpdate}\r\n                    onIntervalRemove={this.handleEventRemove}\r\n                    useModal={true}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport DoodleCalendar from \"./DoodleCalendar\";\r\nimport \"react-week-calendar/dist/style.css\";\r\nimport moment from \"moment\";\r\nimport './styling/AddSecondPage.css'\r\n\r\nexport class AddSecondPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // time: JSON.parse(localStorage.getItem(\"saved_time\")),\r\n            // date: JSON.parse(localStorage.getItem(\"saved_date\")),\r\n            startDate: JSON.parse(localStorage.getItem(\"saved_start_date\")),\r\n            endDate: JSON.parse(localStorage.getItem(\"saved_end_date\")),\r\n            calendar: \"default\"\r\n        };\r\n    }\r\n\r\n    // eric's stuff //\r\n    changeCalendar = calendar => {\r\n        this.setState({ calendar });\r\n    };\r\n\r\n    onEventSubmitted = eventData => {\r\n        console.log(eventData[0].start.format());\r\n        console.log(moment(eventData[0].start.format()).format(\"LLLL\"));\r\n\r\n        var eventStartDate = eventData[0].start.format();\r\n        var eventEndDate = eventData[0].end.format();\r\n\r\n        this.setState({ startDate: eventStartDate, endDate: eventEndDate });\r\n\r\n        localStorage.setItem(\r\n            \"saved_start_date\",\r\n            JSON.stringify(eventStartDate)\r\n        );\r\n        localStorage.setItem(\"saved_end_date\", JSON.stringify(eventEndDate));\r\n        // https://momentjs.com/docs/#/parsing/string-format/ if you are looking for a different time format\r\n    };\r\n\r\n    // eric's stuff //\r\n\r\n    render() {\r\n        //eric's shit\r\n\r\n        //eslint-disable-next-line\r\n        const calendar = this.state.calendar;\r\n        //let renderCalendar = null;\r\n\r\n        return (\r\n            <div>\r\n                {this.renderCalendar()}\r\n                {this.renderButtons()}\r\n            </div>\r\n        );\r\n    }\r\n    renderCalendar = () => {\r\n        return (\r\n            <div>\r\n                <h3 className=\"text\">Choose your time!</h3>\r\n                <DoodleCalendar parentMethod={e => this.onEventSubmitted(e)}>\r\n                    {this.props.children}\r\n                </DoodleCalendar>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    renderButtons = () => {\r\n        return (\r\n            <div>\r\n                <div className=\"rightGroup\">\r\n                    <IconButton\r\n                        className=\"button\"\r\n                        aria-label=\"back\"\r\n                        onClick={this.props.goToFirstPage}\r\n                        color=\"primary\"\r\n                        size=\"medium\"\r\n                    >\r\n                        <ArrowBackIosIcon />\r\n                    </IconButton>\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={e =>\r\n                            this.props.goToThirdPage(\r\n                                this.state.startDate,\r\n                                this.state.endDate,\r\n                                e\r\n                            )\r\n                        }\r\n                    >\r\n                        Next\r\n                    </Button>\r\n                </div>\r\n                <Button\r\n                    type=\"button\"\r\n                    className=\"userCancelButton\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                    endIcon={<CancelIcon />}\r\n                    onClick={this.props.cancelEvent}\r\n                >\r\n                    Cancel\r\n                </Button>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default AddSecondPage;\r\n","/* eslint-disable no-unused-expressions */\r\nimport React, { useEffect } from \"react\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { db } from \"./firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        textAlign: \"center\"\r\n    }\r\n});\r\n\r\nexport default function InviteContacts(props) {\r\n    const classes = useStyles();\r\n    const [personEmail, setPersonEmail] = React.useState([]);\r\n\r\n    const handleChange = event => {\r\n        setPersonEmail(event.target.value);\r\n        console.log(event.target.value);\r\n    };\r\n\r\n    const [emails, setEmails] = React.useState([]);\r\n\r\n    useEffect(() => {\r\n        console.log(\"1\");\r\n        db.collection(\"users\")\r\n            .doc(JSON.parse(localStorage.getItem(\"currentUser\")))\r\n            .get()\r\n            .then(doc => {\r\n                if (doc.exists) {\r\n                    let temp = doc.data().contacts.map(c => {\r\n                        return c.email;\r\n                    });\r\n                    setEmails(temp);\r\n                }\r\n            });\r\n    }, []);\r\n\r\n    //if add props to dependencies, infinite useEffect, dont do it\r\n    useEffect(() => {\r\n        console.log(\"2\");\r\n        props.setSharedEvent(personEmail);\r\n        // eslint-disable-next-line\r\n    }, [personEmail]);\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <FormControl>\r\n                <InputLabel\r\n                    color=\"primary\"\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    id=\"demo-mutiple-checkbox-label\"\r\n                >\r\n                    Select Contacts to Invite\r\n                </InputLabel>\r\n                <Select\r\n                    labelId=\"demo-mutiple-checkbox-label\"\r\n                    id=\"demo-mutiple-checkbox\"\r\n                    multiple\r\n                    value={personEmail}\r\n                    onChange={handleChange}\r\n                    input={<Input />}\r\n                    renderValue={selected => selected.join(\", \")}\r\n                >\r\n                    {emails.map(name => (\r\n                        <MenuItem key={name} value={name}>\r\n                            <Checkbox\r\n                                checked={personEmail.indexOf(name) > -1}\r\n                            />\r\n                            <ListItemText primary={name} />\r\n                        </MenuItem>\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport { Checkbox } from \"@material-ui/core\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport InviteContacts from \"./InviteContacts\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\nimport \"./styling/AddThirdPage.css\";\r\n\r\nexport class AddThirdPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            checked: false,\r\n            invite_list: []\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderOptions()}\r\n                <br />\r\n                {this.renderButtons()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    //functions\r\n\r\n    /**\r\n     * toggles check of checkbox\r\n     */\r\n    handleCheckbox = () => {\r\n        this.setState({ checked: !this.state.checked });\r\n    };\r\n\r\n    /**\r\n     * Rendering invite options\r\n     */\r\n    renderOptions = () => {\r\n        return (\r\n            <div>\r\n                <FormGroup className=\"checkrow\" row>\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                checked={this.state.checked}\r\n                                value={this.state.checked}\r\n                                onChange={() => this.handleCheckbox()}\r\n                            />\r\n                        }\r\n                        label=\"Make this event shareable\"\r\n                    />\r\n                </FormGroup>\r\n                {this.renderContactDropdown()}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    renderContactDropdown = () => {\r\n        if (this.state.checked) {\r\n            return (\r\n                <InviteContacts setSharedEvent={l => this.setSharedEvent(l)} />\r\n            );\r\n        }\r\n    };\r\n\r\n    setSharedEvent = list => {\r\n        this.setState({ invite_list: list });\r\n    };\r\n\r\n    //We are rendering buttons separately from options\r\n    /**\r\n     * Rendering buttons\r\n     */\r\n    renderButtons = () => {\r\n        return (\r\n            <div>\r\n                <div className=\"right\">\r\n                    <IconButton\r\n                        className=\"button\"\r\n                        aria-label=\"back\"\r\n                        onClick={this.props.goToSecondPage}\r\n                        color=\"primary\"\r\n                        size=\"medium\"\r\n                    >\r\n                        <ArrowBackIosIcon />\r\n                    </IconButton>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={e =>\r\n                            this.props.submitEvent(e, this.state.invite_list)\r\n                        }\r\n                    >\r\n                        Submit Event\r\n                    </Button>\r\n                </div>\r\n                <Button\r\n                    type=\"button\"\r\n                    className=\"userCancelButton\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                    endIcon={<CancelIcon />}\r\n                    onClick={this.props.cancelEvent}\r\n                >\r\n                    Cancel\r\n                </Button>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default AddThirdPage;\r\n","import React, { Component } from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MySnackbarContent from \"./Snackbar\";\r\nimport AddSecondPage from \"./AddSecondPage\";\r\nimport AddThirdPage from \"./AddThirdPage\";\r\nimport { db } from \"./firebase\";\r\nimport uuid from \"uuid\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport \"./styling/AddEvent.css\";\r\nimport moment from \"moment\";\r\n\r\nexport const categories = Object.freeze({\r\n    None: \"None\",\r\n    Hobbies: \"Hobbies\",\r\n    Social: \"Social\",\r\n    Errands: \"Errands\",\r\n    Projects: \"Projects\",\r\n    Miscellaneous: \"Miscellaneous\"\r\n});\r\n\r\nexport class AddEvent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //event variables\r\n            title: JSON.parse(localStorage.getItem(\"saved_title\")) || \"\",\r\n            description:\r\n                JSON.parse(localStorage.getItem(\"saved_description\")) || \"\",\r\n            startDate:\r\n                JSON.parse(localStorage.getItem(\"saved_start_date\")) || \"\",\r\n            endDate: JSON.parse(localStorage.getItem(\"saved_end_date\")) || \"\",\r\n            category:\r\n                JSON.parse(localStorage.getItem(\"saved_category\")) ||\r\n                categories.None,\r\n            calendar: \"default\",\r\n\r\n            //variables to keep track of pages & state\r\n            firstPage: true,\r\n            secondPage: false,\r\n            thirdPage: false,\r\n\r\n            //for social aspect\r\n            //invitees and owners will be emails\r\n            owners: [JSON.parse(localStorage.getItem(\"currentUser\"))], //every time event created, user will be owner\r\n            shared: false, //if this is being shared\r\n            invitees: [], //this only if being shared\r\n\r\n            //snackbar errors\r\n            errorMessageOpen: false,\r\n            message: \"\",\r\n            successMessageOpen: false,\r\n\r\n            // Category\r\n            anchorEl: null,\r\n            openMenu: false\r\n        };\r\n    }\r\n\r\n    //----- snackbar functions -----\r\n    handleErrorClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n\r\n        this.setState({ errorMessageOpen: false });\r\n    };\r\n    handleSuccessClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n\r\n        this.setState({ successMessageOpen: false });\r\n    };\r\n\r\n    //----- end of snackbar functions -----\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.viewForm()}\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"left\"\r\n                    }}\r\n                    open={this.state.errorMessageOpen}\r\n                    autoHideDuration={6000}\r\n                    onClose={this.handleErrorClose}\r\n                >\r\n                    <MySnackbarContent\r\n                        onClose={this.handleErrorClose}\r\n                        variant=\"error\"\r\n                        message={this.state.message}\r\n                    />\r\n                </Snackbar>\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"left\"\r\n                    }}\r\n                    open={this.state.successMessageOpen}\r\n                    autoHideDuration={6000}\r\n                    onClose={this.handleSuccessClose}\r\n                >\r\n                    <MySnackbarContent\r\n                        onClose={this.handleSuccessClose}\r\n                        variant=\"success\"\r\n                        message={\"New event has been created\"}\r\n                    />\r\n                </Snackbar>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    //----- first page functions -----\r\n    /**\r\n     * @param {*} t takes user input and sets it equal to title\r\n     */\r\n    handleTitle = t => {\r\n        this.setState({ title: t.target.value });\r\n    };\r\n\r\n    /**\r\n     * @param {*} des takes user input and sets it equal to description\r\n     */\r\n    handleDescription = des => {\r\n        this.setState({ description: des.target.value });\r\n    };\r\n\r\n    /**\r\n     * Submits user input of title and description\r\n     * @param {*} e Takes in event of pressing button\r\n     * @return sets state to go to second page and saves title\r\n     * and description to local storage\r\n     */\r\n    onSubmitFirstPage = e => {\r\n        e.preventDefault();\r\n        //when they go back from second page, the data still there\r\n        if (this.state.title !== \"\" && this.state.title !== null) {\r\n            localStorage.setItem(\r\n                \"saved_title\",\r\n                JSON.stringify(this.state.title)\r\n            );\r\n            localStorage.setItem(\r\n                \"saved_description\",\r\n                JSON.stringify(this.state.description)\r\n            );\r\n            localStorage.setItem(\r\n                \"saved_category\",\r\n                JSON.stringify(this.state.category)\r\n            );\r\n            //going to second page & unrendering first page\r\n            this.setState({ firstPage: false, secondPage: true });\r\n        } else {\r\n            this.setState({\r\n                errorMessageOpen: true,\r\n                message: \"Please input a title!\"\r\n            });\r\n        }\r\n    };\r\n    //----- end of first page functions -----\r\n\r\n    //----- second page functions -----\r\n    /**\r\n     * If you hit back on the second page, it goes back to first page\r\n     */\r\n    goToFirstPage = () => {\r\n        this.setState({ firstPage: true, secondPage: false });\r\n    };\r\n    //redo error messages later when implementing another date and time picker\r\n\r\n    /**\r\n     * @param {string=} startDate Takes in start date from eric's calendar\r\n     * @param {string=} endDate Takes in end date from eric's calendar\r\n     * @param {*} e Takes in event of hitting button to go to next page\r\n     * @return Sets date and time in state\r\n     * @return error message if date & time are null\r\n     */\r\n    goToThirdPage = (startDate, endDate, e) => {\r\n        e.preventDefault();\r\n        if (\r\n            startDate !== null &&\r\n            startDate !== \"\" &&\r\n            endDate !== null &&\r\n            endDate !== \"\"\r\n        ) {\r\n            this.setState({\r\n                startDate: startDate,\r\n                endDate: endDate,\r\n                firstPage: false,\r\n                secondPage: false,\r\n                thirdPage: true\r\n            });\r\n        } else {\r\n            this.setState({\r\n                errorMessageOpen: true,\r\n                message: \"Please input a date and time!\"\r\n            });\r\n        }\r\n    };\r\n    //----- end of second page functions -----\r\n\r\n    //----- third page functions -----\r\n    /**\r\n     * Goes back to second page when hitting back on third page\r\n     */\r\n    goToSecondPage = () => {\r\n        this.setState({ firstPage: false, secondPage: true, thirdPage: false });\r\n    };\r\n\r\n    handleCategoryMenuClick = selectedCategory => {\r\n        this.handleClose();\r\n        this.setState({ category: selectedCategory });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null, openMenu: !this.state.openMenu });\r\n    };\r\n\r\n    /**\r\n     * Opening drop down menu\r\n     * @param e takes in event of clicking drop down menu\r\n     * @return position of drop down menu\r\n     * @return boolean to open menu\r\n     */\r\n    handleClick = e => {\r\n        this.setState({\r\n            anchorEl: e.currentTarget,\r\n            openMenu: !this.state.openMenu\r\n        });\r\n    };\r\n\r\n    /**\r\n     * When creating/editing event, it adds/edits it to the database./\r\n     * If the event is going to be shared, it will add it to the\r\n     * shared event collection\r\n     * @param {*} e takes in event of hitting submit event\r\n     * @return saves to firestore database and goes back to home page\r\n     * @todo fix edit event\r\n     */\r\n    submitEvent = (e, invitees) => {\r\n        e.preventDefault();\r\n        let code = this.makeCode(5);\r\n        const { idOfEditEvent, editingEvent } = this.props;\r\n        const id = uuid.v4();\r\n\r\n        if (!editingEvent) {\r\n            //add new event\r\n            let batch = db.batch();\r\n            if(invitees.length!== 0){\r\n                for(let x = 0; x < invitees.length; x++){\r\n                    const id2 = uuid.v4();\r\n                    var temp = db.collection(\"notifications\").doc(id2);\r\n                    batch.set(temp, {user: invitees[x], seen: false, typeOf : 1, eventTitle: this.state.title, id : id2});\r\n                }\r\n            }\r\n            batch.commit();\r\n            \r\n            db.collection(\"events\")\r\n                .doc(id)\r\n                .set({\r\n                    id: id,\r\n                    code: code,\r\n                    title: this.state.title,\r\n                    description: this.state.description,\r\n                    category: this.state.category,\r\n                    startDate: this.state.startDate,\r\n                    endDate: this.state.endDate,\r\n                    owners: this.state.owners,\r\n                    accepted_invitees: [],\r\n                    declined_invitees: [],\r\n                    invitees: invitees\r\n                });\r\n            \r\n            /* email notification */\r\n            var invitees = invitees;\r\n            var templateId = 'yes';\r\n            var emailEvent = this.state.title;\r\n            var emailDescription = this.state.description;\r\n            var emailStartDate = moment(this.state.startDate).format(\"LLLL\")+ \" - \" + moment(this.state.endDate).format(\"LT\");\r\n            var emailCategory = this.state.category;\r\n            //var emailEndDate = this.state.endDate;\r\n\r\n            console.log(\"add event\");\r\n            console.log(\"invitees: \" + invitees);\r\n            console.log(\"emailEvent: \" + emailEvent);\r\n            console.log(\"emailDescription: \" + emailDescription);\r\n            console.log(\"emailStartDate: \" + emailStartDate);\r\n            //console.log(\"emailEndDate: \" + emailEndDate);\r\n            \r\n            window.emailjs.send(\"gmail\", templateId, {\"send_to\": [invitees], \"subject\": \"An event has been created!\", \"emailEvent\": emailEvent, \"emailDescription\": emailDescription, \"emailStartDate\": emailStartDate, \"emailCategory\": emailCategory}) //, \"emailEndDate\": emailEndDate\r\n            .then(res => {\r\n                console.log('Email successfully sent!');\r\n            })\r\n            .catch(err => console.error(\"error: \" + err))\r\n        } else {\r\n            //editing event\r\n\r\n            let batch = db.batch();\r\n            db.collection(\"events\").doc(idOfEditEvent).get()\r\n            .then(doc =>{\r\n                if(doc.data().accepted_invitees.length !== 0){\r\n                    for(let x = 0; x < doc.data().accepted_invitees.length; x++){\r\n                        const id2 = uuid.v4();\r\n                        var temp = db.collection(\"notifications\").doc(id2);\r\n                        batch.set(temp, {user: doc.data().accepted_invitees[x], seen: false, typeOf : 3, eventTitle: this.state.title, id : id2});\r\n                    }\r\n                }\r\n                console.log(doc.data())\r\n                if(doc.data().invitees.length!== 0){\r\n                    for(let x = 0; x < doc.data().invitees.length; x++){\r\n                        const id2 = uuid.v4();\r\n                        var temp = db.collection(\"notifications\").doc(id2);\r\n                        batch.set(temp, {user: doc.data().invitees[x], seen: false, typeOf : 3, eventTitle: this.state.title, id : id2});\r\n                    }\r\n                }\r\n                batch.commit();\r\n            })\r\n            .catch(err => console.log(err));\r\n            \r\n            db.collection(\"events\")\r\n                .doc(idOfEditEvent)\r\n                .update({\r\n                    title: this.state.title,\r\n                    description: this.state.description,\r\n                    category: this.state.category,\r\n                    startDate: this.state.startDate,\r\n                    endDate: this.state.endDate\r\n                    // invitees: invitees TODO: XD it nukes all the other invitees that you didn't call for\r\n                });\r\n            \r\n            /* email notification */\r\n            var invitees = invitees;\r\n            var templateId = 'yes';\r\n            var emailEvent = this.state.title;\r\n            var emailDescription = this.state.description;\r\n            var emailStartDate = moment(this.state.startDate).format(\"LLLL\")+ \" - \" + moment(this.state.endDate).format(\"LT\");\r\n            var emailCategory = this.state.category;\r\n            //var emailEndDate = this.state.endDate;\r\n            \r\n            console.log(\"edit event\");\r\n            console.log(\"invitees: \" + invitees);\r\n            console.log(\"emailEvent: \" + emailEvent);\r\n            console.log(\"emailDescription: \" + emailDescription);\r\n            console.log(\"emailStartDate: \" + emailStartDate);\r\n            //console.log(\"emailEndDate: \" + emailEndDate);\r\n            \r\n            window.emailjs.send(\"gmail\", templateId, {\"send_to\": [invitees], \"subject\": \"An event has been edited!\", \"emailEvent\": emailEvent, \"emailDescription\": emailDescription, \"emailStartDate\": emailStartDate, \"emailCategory\" : emailCategory}) //, \"emailEndDate\": emailEndDate\r\n            .then(res => {\r\n                console.log('Email successfully sent!');\r\n            })\r\n            .catch(err => console.error(\"error: \" + err))\r\n        }\r\n        this.props.setHomePage();\r\n    };\r\n\r\n    makeCode = length => {\r\n        var result = \"\";\r\n        var characters =\r\n            \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n        var charactersLength = characters.length;\r\n        for (var i = 0; i < length; i++) {\r\n            result += characters.charAt(\r\n                Math.floor(Math.random() * charactersLength)\r\n            );\r\n        }\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * @param {boolean} check if checkbox is clicked to make event shareable\r\n     * @param {Array} list populatex invitees with contacts' emails\r\n     * @todo this list will be populated with people outside the contact list\r\n     */\r\n\r\n    //----- end of third page functions -----\r\n\r\n    /**\r\n     * Decides what to display when adding event by\r\n     * conditionally renders new pages\r\n     */\r\n    viewForm = () => {\r\n        //this will be the same as AddFirstPage\r\n        //just grabbing title and description\r\n        if (this.state.firstPage) {\r\n            return (\r\n                <div>\r\n                    <Container className=\"container\" maxWidth=\"md\">\r\n                        <div className=\"categoryBtn\">\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color={this.state.category !== categories.None ? \"primary\" : \"secondary\"}\r\n                                aria-controls=\"simple-menu\"\r\n                                aria-haspopup=\"true\"\r\n                                onClick={e => this.handleClick(e)}\r\n                            >\r\n                                {this.state.category}\r\n                            </Button>\r\n                            <Menu\r\n                                id=\"simple-menu\"\r\n                                anchorEl={this.state.anchorEl}\r\n                                open={this.state.openMenu}\r\n                                onClose={this.handleClose}\r\n                            >\r\n                                <MenuItem\r\n                                    onClick={() =>\r\n                                        this.handleCategoryMenuClick(\r\n                                            categories.Hobbies\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    {categories.Hobbies}\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    onClick={() =>\r\n                                        this.handleCategoryMenuClick(\r\n                                            categories.Social\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    {categories.Social}\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    onClick={() =>\r\n                                        this.handleCategoryMenuClick(\r\n                                            categories.Errands\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    {categories.Errands}\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    onClick={() =>\r\n                                        this.handleCategoryMenuClick(\r\n                                            categories.Projects\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    {categories.Projects}\r\n                                </MenuItem>\r\n                                <MenuItem\r\n                                    onClick={() =>\r\n                                        this.handleCategoryMenuClick(\r\n                                            categories.Miscellaneous\r\n                                        )\r\n                                    }\r\n                                >\r\n                                    {categories.Miscellaneous}\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        </div>\r\n                        <form className=\"form\" onSubmit={e => this.onSubmitFirstPage(e)}>\r\n                            <TextField\r\n                                type=\"text\"\r\n                                variant=\"outlined\"\r\n                                placeholder=\"Event Name\"\r\n                                fullWidth\r\n                                value={this.state.title}\r\n                                margin=\"normal\"\r\n                                onChange={title => this.handleTitle(title)}\r\n                            />\r\n                            <TextField\r\n                                className=\"form\"\r\n                                type=\"text\"\r\n                                variant=\"outlined\"\r\n                                placeholder=\"Event Description ... Optional\"\r\n                                fullWidth\r\n                                value={this.state.description}\r\n                                margin=\"normal\"\r\n                                onChange={des => this.handleDescription(des)}\r\n                            />\r\n\r\n                            <div className=\"btnGroup\">\r\n                                <Button\r\n                                    type=\"button\"\r\n                                    className=\"userCancelButton\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    size=\"large\"\r\n                                    endIcon={<CancelIcon />}\r\n                                    onClick={this.props.cancelEvent}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    className=\"userContinueButton\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    size=\"large\"\r\n                                    endIcon={<ArrowForwardIcon />}\r\n                                    onClick={e => this.onSubmitFirstPage(e)}\r\n                                >\r\n                                    Continue\r\n                                </Button>\r\n                            </div>\r\n                        </form>\r\n                    </Container>\r\n                </div>\r\n            );\r\n        } else if (this.state.secondPage) {\r\n            return (\r\n                <div>\r\n                    <AddSecondPage\r\n                        cancelEvent={this.props.cancelEvent}\r\n                        goToFirstPage={() => this.goToFirstPage()}\r\n                        goToThirdPage={(startDate, endDate, e) =>\r\n                            this.goToThirdPage(startDate, endDate, e)\r\n                        }\r\n                    />\r\n                </div>\r\n            );\r\n        } else if (this.state.thirdPage) {\r\n            return (\r\n                <div>\r\n                    <AddThirdPage\r\n                        goToSecondPage={() => this.goToSecondPage()}\r\n                        cancelEvent={this.props.cancelEvent}\r\n                        submitEvent={(e, invitees) =>\r\n                            this.submitEvent(e, invitees)\r\n                        }\r\n                    />\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n}\r\n\r\nexport default AddEvent;\r\n","import React from 'react';\r\nimport { db } from './firebase'\r\nexport default class Form extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { contentList: [], emailList: [], };\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleSubmit =\r\n\t\t\tthis.handleSubmit.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tdb\r\n\t\t\t.collection(\"users\")\r\n\t\t\t.doc(JSON.parse(localStorage.getItem(\"currentUser\")))\r\n\t\t\t.get()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tif (data.exists) {\r\n\t\t\t\t\tthis.setState({ emailList: data.data().contacts, contentList: data.data().events })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className=\"test-mailing\">\r\n\t\t\t\t<h1>Let's see if it works</h1>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tid=\"test-mailing\"\r\n\t\t\t\t\t\tname=\"test-mailing\"\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\tplaceholder=\"Send event\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={this.state.feedback}\r\n\t\t\t\t\t\tstyle={{ width: '100%', height: '150px' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"button\" value=\"Submit\" className=\"btn btn--submit\" onClick={this.handleSubmit} />\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tthis.setState({ feedback: event.target.value })\r\n\t}\r\n\r\n\thandleSubmit(event) {\r\n\t\tconst templateId = 'yes';\r\n\r\n\t\tthis.sendFeedback(templateId, { message_html: this.state.feedback, from_name: this.state.name, reply_to: this.state.email })\r\n\t\tthis.props.handleDisplay();\r\n\t}\r\n\r\n\tsendFeedback(templateId, variables) {\r\n\t\twindow.emailjs.send(\"gmail\", templateId, { \"send_to\": this.state.emailList, \"content\": this.state.contentList })   // insert custom emails for send_to\r\n\t\t\t.then(res => {\r\n\t\t\t\tconsole.log('Email successfully sent!');\r\n\t\t\t\tconsole.log(variables);\r\n\t\t\t})\r\n\t\t\t// Handle errors here however you like, or use a React error boundary\r\n\t\t\t.catch(err => console.error('Oh well, you failed. Here some thoughts on the error that occured:', err))\r\n\t}\r\n}","import React, { useEffect } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport uuid from \"uuid\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Invite(props) {\r\n    const [open, setOpen] = React.useState(props.open);\r\n    const [currentUser] = React.useState(\r\n        JSON.parse(localStorage.getItem(\"currentUser\"))\r\n    );\r\n\r\n    const [originalInvitees, setOriginalInvitees] = React.useState([]);\r\n\r\n    const [personEmail, setPersonEmail] = React.useState([]);\r\n\r\n    const [emails, setEmails] = React.useState([]);\r\n\r\n    //this is because personEmail will be empty on first render\r\n    //since useState callback\r\n    const [fix, setFix] = React.useState(false);\r\n\r\n    const handleClose = () => {\r\n        //i think you might have to check which one is longer\r\n        //personEmail is finished one, you can maybe do filter and combine with includes?\r\n        let temp2 = personEmail.filter( x => {return !originalInvitees.includes(x)}); //this is n^2 lmao it was gonna be it anyways// alright, I'm gonna assume this works, i would consolelog, yeah, but it's hard to test with just myself anyways\r\n        let batch = db.batch();\r\n            if(temp2.length!== 0){\r\n                for(let x = 0; x < temp2.length; x++){\r\n                    const id2 = uuid.v4();\r\n                    var temp = db.collection(\"notifications\").doc(id2);\r\n                    batch.set(temp, {user: temp2[x], seen: false, typeOf : 1, eventTitle: props.title, id : id2});\r\n                }\r\n            }\r\n            batch.commit();\r\n        setOpen(false);\r\n    };\r\n\r\n    /**\r\n     *\r\n     * @param {*} n an email that user selected\r\n     * @return {array} array with user included or not included\r\n     */\r\n    const handleChange = n => {\r\n        if (!personEmail.includes(n)) {\r\n            setPersonEmail([...personEmail, n]);\r\n        } else {\r\n            setPersonEmail(personEmail.filter(email => email !== n));\r\n        }\r\n    };\r\n    //okay  \r\n\r\n    //this useEffect acts like a componentDidMount \r\n    useEffect(() => {\r\n        db.collection(\"users\")\r\n            .doc(currentUser)\r\n            .get()\r\n            .then(doc => {\r\n                if (doc.exists) {\r\n                    let temp = doc.data().contacts.map(c => {\r\n                        return c.email;\r\n                    });\r\n                    setEmails(temp);\r\n                }\r\n            });\r\n        db.collection(\"events\")\r\n            .doc(props.id)\r\n            .get()\r\n            .then(doc => {\r\n                setPersonEmail(doc.data().invitees); //this will finish after next useEffect\r\n                setOriginalInvitees(doc.data().invitees);\r\n                setFix(true); //so you need this line\r\n            });\r\n        //eslint-disable-next-line\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (fix) {\r\n            db.collection(\"events\")\r\n                .doc(props.id)\r\n                .update({\r\n                    invitees: personEmail\r\n                });\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [personEmail]);\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                TransitionComponent={Transition}\r\n                keepMounted\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <DialogTitle>{\"Invite More\"}</DialogTitle>\r\n                <DialogContent>\r\n                    {emails.map(name => (\r\n                        <MenuItem key={name} value={name}>\r\n                            <Checkbox\r\n                                checked={personEmail.indexOf(name) > -1}\r\n                                onChange={() => handleChange(name)}\r\n                            />\r\n                            <ListItemText primary={name} />\r\n                        </MenuItem>\r\n                    ))}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\"\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport PieChart from 'react-minimal-pie-chart';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport Invite from \"./Invite\";\r\nimport moment from \"moment\";\r\nimport { green } from '@material-ui/core/colors';\r\n\r\nclass Cards extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            expanded: false,\r\n            startShare: false\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const handleExpandClick = () => {\r\n            this.setState({ expanded: !this.state.expanded });\r\n        };\r\n        const { data, isShared, hasAccepted } = this.props;\r\n\r\n        const dataInvitees = data.invitees.map((invitee) =>\r\n            <li>{invitee}{\"\\n\"}</li>\r\n        );\r\n        const acceptedInvitees = data.accepted_invitees.map((acceptedInvitee) =>\r\n            <li>{acceptedInvitee}{\"\\n\"}</li>\r\n        );\r\n        const declinedInvitees = data.declined_invitees.map((declinedInvitee) =>\r\n            <li>{declinedInvitee}{\"\\n\"}</li>\r\n        );\r\n        const Owners = data.owners.map((owner) =>\r\n            <li>{owner}{\"\\n\"}</li>\r\n        );\r\n        \r\n        \r\n\r\n        let invitees = data.invitees ? data.invitees.join(\"\\n\") : \"\";\r\n        let shareStatus = isShared ? \"Shared event\" : \"Made by me\";\r\n        let invitePeople = this.state.startShare ? (\r\n            <Invite id={data.id} open={this.state.startShare} title = {data.title} />\r\n        ) : null;\r\n        let editButton = !isShared ? (\r\n            <Button\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                onClick={() => this.props.editEvent(data.id)}\r\n            >\r\n                edit\r\n            </Button>\r\n        ) : null;\r\n        let deleteButton = !isShared ? (\r\n            <IconButton\r\n                aria-label=\"delete\"\r\n                color=\"secondary\"\r\n                onClick={() => this.props.deleteEvent(data.id)}\r\n            >\r\n                <DeleteIcon />\r\n            </IconButton>\r\n        ) : null;\r\n\r\n        let acceptIcon = (isShared && !hasAccepted)? (\r\n            <div>\r\n                <IconButton onClick = {() => this.props.acceptInvite(data.id)}>\r\n                <CheckIcon  style={{ color: green[500] }}/>\r\n            </IconButton>\r\n            <IconButton onClick = {() => this.props.declineInvite(data.id)}>\r\n                <ClearIcon color=\"secondary\"/>\r\n            </IconButton>\r\n            </div>\r\n        ) : null;\r\n\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <CardContent>\r\n                    <Typography variant=\"h6\" component=\"h2\" color=\"primary\">\r\n                            {data.category}\r\n                        </Typography>\r\n                        <Typography color=\"textSecondary\" gutterBottom>\r\n                            {shareStatus}\r\n                        </Typography>\r\n                        <Typography variant=\"h5\" component=\"h2\">\r\n                            {data.title}\r\n                        </Typography>\r\n                        <Typography>{data.description}</Typography>\r\n                        <Typography>{moment(data.startDate).format(\"LLLL\")+ \" - \" + moment(data.endDate).format(\"LT\")}</Typography>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                        {editButton}\r\n                        <IconButton\r\n                            aria-label=\"share\"\r\n                            onClick={() => this.handleShareEvent()}\r\n                        >\r\n                            <ShareIcon color=\"primary\"/>\r\n                        </IconButton>\r\n                        {deleteButton}\r\n                        <IconButton\r\n                            onClick={handleExpandClick}\r\n                            aria-expanded={this.state.expanded}\r\n                            aria-label=\"show more\"\r\n                        >\r\n                            <ExpandMoreIcon />\r\n                        </IconButton>\r\n                        {acceptIcon}\r\n                    </CardActions>\r\n                    <Collapse\r\n                        in={this.state.expanded}\r\n                        timeout=\"auto\"\r\n                        unmountOnExit\r\n                    >\r\n                        <CardContent>\r\n                            \r\n                            <PieChart data = {[\r\n                                {title: \"People confirmed going\", value: data.owners.length + data.accepted_invitees.length, color : \"#00e676\"},\r\n                                {title: \"People who might go\", value: data.invitees.length, color : \"#fff59d\"},\r\n                                {title: \"People who won't go\", value: data.declined_invitees.length, color : \"#78909c\"}\r\n                            ]} radius = {50} style={{\r\n                                height: '125px',\r\n                                marginBottom: '2em',\r\n                                marginTop : '0',\r\n                                display: 'flex'\r\n\r\n                              }}/>\r\n                            <Typography>\r\n                                Owners: <ul style={{ listStyleType: \"none\" }}>{Owners}</ul>\r\n                                Invitees: <ul style={{ listStyleType: \"none\" }}>{dataInvitees}</ul>\r\n                                Accepted Invitees: <ul style={{ listStyleType: \"none\" }}>{acceptedInvitees}</ul>\r\n                                Declined Invitees: <ul style={{ listStyleType: \"none\" }}>{ declinedInvitees }</ul>\r\n                            </Typography>\r\n                            <Typography color=\"primary\" gutterBottom=\"true\">Invite Code: {data.code}</Typography>\r\n                            \r\n                        </CardContent>\r\n                    </Collapse>\r\n                </Card>\r\n                {invitePeople}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * @param id id of event to be shared with others\r\n     * @return pop up with checkboxes like the third page, select\r\n     * people to invite from contacts\r\n     */\r\n    handleShareEvent = () => {\r\n        this.setState({ startShare: !this.state.startShare });\r\n    };\r\n}\r\nexport default Cards;\r\n","import React from \"react\";\r\nimport \"./Modal.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\n\r\nexport default class Modal extends React.Component {\r\n  /**\r\n   * Closes modal\r\n   */\r\n  onClose = e => {\r\n    this.props.onClose && this.props.onClose(e);\r\n  };\r\n\r\n  /**\r\n   * Renders modal with event data\r\n   */\r\n  render() {\r\n    if (!this.props.show) {\r\n      return null;\r\n    }\r\n\r\n    var description = \"\";\r\n    console.log(this.props.calendarEventDayData.events);\r\n\r\n    for (let i = 0; i < this.props.calendarEventDayData.events.length; ++i) {\r\n      var startTime = moment(this.props.calendarEventDayData.events[i].startDate).format(\"LT\");\r\n      var endTime = moment(this.props.calendarEventDayData.events[i].endDate).format(\"LT\");\r\n      var header = startTime + \" - \" + endTime + \": \" + this.props.calendarEventDayData.events[i].title;\r\n\r\n      description += header + \"\\n\" + this.props.calendarEventDayData.events[i].description + \"\\n\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"modal\" id=\"modal\">\r\n        <h2>{moment(this.props.calendarEventDayData.date).format(\"dddd\" + \" \"+ \"L\")}</h2>\r\n        <div className=\"content\">\r\n        {description.split(\"\\n\").map((i,key) => { return <div key={key}>{i}</div>; })}\r\n        </div>\r\n        <div className=\"actions\">\r\n          <button className=\"toggle-button\" onClick={this.onClose}>\r\n            close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  show: PropTypes.bool.isRequired\r\n};","import React from \"react\";\r\nimport * as dateFns from 'date-fns';\r\nimport Modal from \"../Modal/Modal\";\r\nimport \"./EventCalendar.css\";\r\nimport moment from \"moment\";\r\n\r\nexport class EventCalendar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentMonth: new Date(),\r\n            selectedDate: null,\r\n            show: false,\r\n            title: \"\",\r\n            calendarEventDayData: null\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Comparator for ordering events.\r\n     * Used for days where there are multiple events.\r\n     */\r\n    compareEventStartDates(a, b) {\r\n        if ( moment(a.startDate).valueOf() < moment(b.startDate).valueOf() ){\r\n            return -1;\r\n        }\r\n\r\n        if ( moment(a.startDate).valueOf() > moment(b.startDate).valueOf() ){\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * Updates modal state to display the events data\r\n     */\r\n    showModal = (calendarEventDayData) => {\r\n        this.calendarEventDayData = calendarEventDayData;\r\n\r\n        this.setState({\r\n          show: !this.state.show,\r\n          calendarEventDayData: this.calendarEventDayData,\r\n        });\r\n      };\r\n\r\n    /**\r\n     * Calendar header\r\n     */\r\n    renderHeader() {\r\n        const dateFormat = \"MMMM yyyy\";\r\n\r\n        return (\r\n            <div className=\"header row flex-middle\">\r\n                <div className=\"col col-start\">\r\n                    <div className=\"icon\" onClick={this.prevMonth}>\r\n                        chevron_left\r\n          </div>\r\n                </div>\r\n                <div className=\"col col-center\">\r\n                    <span>{dateFns.format(this.state.currentMonth, dateFormat)}</span>\r\n                </div>\r\n                <div className=\"col col-end\" onClick={this.nextMonth}>\r\n                    <div className=\"icon\">chevron_right</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Calendar week days\r\n     */\r\n    renderDays() {\r\n        const dateFormat = \"iiii\";\r\n        const days = [];\r\n\r\n        let startDate = dateFns.startOfWeek(this.state.currentMonth);\r\n\r\n        for (let i = 0; i < 7; i++) {\r\n            days.push(\r\n                <div className=\"col col-center\" key={i}>\r\n                    {dateFns.format(dateFns.addDays(startDate, i), dateFormat)}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return <div className=\"days row\">{days}</div>;\r\n    }\r\n\r\n\r\n    /**\r\n     * Calendar days\r\n     */\r\n    renderCells() {\r\n        var areThereEvents = !(\r\n            this.props.events === null ||\r\n            this.props.events === undefined || \r\n            this.props.events.length === 0);\r\n        \r\n        var areThereSharedEvents = !(\r\n            this.props.sharedEvents === null ||\r\n            this.props.sharedEvents === undefined ||\r\n            this.props.sharedEvents.length === 0);\r\n\r\n        var areThereAcceptedEvents = !(\r\n            this.props.acceptedEvents === null ||\r\n            this.props.acceptedEvents === undefined ||\r\n            this.props.acceptedEvents.length === 0);\r\n\r\n        if (areThereEvents || areThereSharedEvents || areThereAcceptedEvents) {\r\n            const { currentMonth, selectedDate } = this.state;\r\n            const monthStart = dateFns.startOfMonth(currentMonth);\r\n            const monthEnd = dateFns.endOfMonth(monthStart);\r\n            const startDate = dateFns.startOfWeek(monthStart);\r\n            const endDate = dateFns.endOfWeek(monthEnd);\r\n\r\n            const dateFormat = \"d\";\r\n            const rows = [];\r\n\r\n            let days = [];\r\n            let day = startDate;\r\n            let formattedDate = \"\";\r\n\r\n            let eventData = [];\r\n            if (areThereEvents) {\r\n                for (let i = 0; i < this.props.events.length; ++i) {\r\n                    if (moment(this.props.events[i].startDate).format(\"L\").split('/')[0] == dateFns.getMonth(currentMonth) + 1) {\r\n                        var data = {\r\n                            date: this.props.events[i].date,\r\n                            title: this.props.events[i].title,\r\n                            description: this.props.events[i].description,\r\n                            startDate: this.props.events[i].startDate,\r\n                            endDate: this.props.events[i].endDate,\r\n                        }\r\n        \r\n                        eventData.push(data)\r\n                    }\r\n                }\r\n            }\r\n            \r\n            if (areThereSharedEvents) {\r\n                for (let i = 0; i < this.props.sharedEvents.length; ++i) {\r\n                    if (moment(this.props.sharedEvents[i].startDate).format('L').split('/')[0]== dateFns.getMonth(currentMonth) + 1) {\r\n                        var data = {\r\n                            date: this.props.sharedEvents[i].date,\r\n                            title: this.props.sharedEvents[i].title,\r\n                            description: this.props.sharedEvents[i].description,\r\n                            startDate: this.props.sharedEvents[i].startDate,\r\n                            endDate: this.props.sharedEvents[i].endDate,\r\n                        }\r\n        \r\n                        eventData.push(data)\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (areThereAcceptedEvents) {\r\n                for (let i = 0; i < this.props.acceptedEvents.length; ++i) {\r\n                    if (moment(this.props.acceptedEvents[i].startDate).format('L').split('/')[0]== dateFns.getMonth(currentMonth) + 1) {\r\n                        var data = {\r\n                            date: this.props.acceptedEvents[i].date,\r\n                            title: this.props.acceptedEvents[i].title,\r\n                            description: this.props.acceptedEvents[i].description,\r\n                            startDate: this.props.acceptedEvents[i].startDate,\r\n                            endDate: this.props.acceptedEvents[i].endDate,\r\n                        }\r\n        \r\n                        eventData.push(data)\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            let calendarEvents = [];\r\n\r\n            for (let i = 0; i < eventData.length; ++i) {\r\n\r\n                var duplicate = false;\r\n                var  eventDate = moment(eventData[i].startDate).format('L');\r\n                var calendarEventData = {\r\n                    title: eventData[i].title, \r\n                    description: eventData[i].description,\r\n                    startDate: eventData[i].startDate,\r\n                    endDate: eventData[i].endDate\r\n                }\r\n\r\n                for (let j = 0; j < calendarEvents.length && !duplicate; ++j) {\r\n                    if (calendarEvents[j].date === eventDate) {\r\n                        duplicate = true;\r\n                        \r\n                        calendarEvents[j].events.push(calendarEventData)\r\n                    }\r\n\r\n                }\r\n\r\n                if (!duplicate) {\r\n                    var calendarData = {\r\n                        date: eventDate,\r\n                        events: [ calendarEventData ]\r\n                    }\r\n\r\n                    calendarEvents.push(calendarData)\r\n                }\r\n            }\r\n\r\n            for (let i = 0; i < calendarEvents.length; ++i) {\r\n                calendarEvents[i].events.sort(this.compareEventStartDates);\r\n            }\r\n\r\n\r\n            while (day <= endDate) {\r\n                for (let i = 0; i < 7; i++) {\r\n                    formattedDate = dateFns.format(day, dateFormat);\r\n                    \r\n                    var isEvent = false;\r\n\r\n                    for (let i = 0; i < calendarEvents.length && !isEvent; ++i) {\r\n                        var calendarEventDay = calendarEvents[i].date.split('/')[1].replace(/^0+/, '');\r\n                        var calendarEventMonth = calendarEvents[i].date.split('/')[0].replace(/^0+/, '');\r\n\r\n                        // eslint-disable-next-line eqeqeq\r\n                        if ((calendarEventDay == dateFns.getDate(day).toString()) &&\r\n                            // eslint-disable-next-line eqeqeq\r\n                            (calendarEventMonth == (dateFns.getMonth(day) + 1))) {\r\n\r\n                                if (calendarEvents[i].events.length > 1) {\r\n\r\n                                    var multipleEventsTitle = (calendarEvents[i].events[0].title + \" +\" + (calendarEvents[i].events.length - 1)).toString();\r\n                                    console.log(multipleEventsTitle);\r\n                                    days.push(\r\n                                        <div\r\n                                            className={`col cell ${\r\n                                                !dateFns.isSameMonth(day, monthStart)\r\n                                                    ? \"disabled\"\r\n                                                    : dateFns.isSameDay(day, selectedDate) ? \"selected\" : \"\"\r\n                                                }`}\r\n                                            key={day}\r\n                                            // onClick={() => this.onDateClick(dateFns.toDate(cloneDay))}\r\n                                            onClick={e => {\r\n                                                this.showModal(calendarEvents[i]);\r\n                                                }}\r\n                                        >\r\n                                            <span className=\"number\">{formattedDate}</span>\r\n                                            <span className=\"bg\">{formattedDate}</span>\r\n                                            <span className=\"title\">{multipleEventsTitle}</span>\r\n                                        </div>\r\n                                    );\r\n                                }\r\n                                else {\r\n                                    var title = calendarEvents[i].events[0].title.toString();\r\n                                    console.log(title);\r\n\r\n                                    days.push(\r\n                                        <div\r\n                                            className={`col cell ${\r\n                                                !dateFns.isSameMonth(day, monthStart)\r\n                                                    ? \"disabled\"\r\n                                                    : dateFns.isSameDay(day, selectedDate) ? \"selected\" : \"\"\r\n                                                }`}\r\n                                            key={day}\r\n                                            onClick={e => {\r\n                                                this.showModal(calendarEvents[i]);\r\n                                                }}\r\n                                        >\r\n                                            <span className=\"number\">{formattedDate}</span>\r\n                                            <span className=\"bg\">{formattedDate}</span>\r\n                                            <span className=\"title\">{title}</span>\r\n                                        </div>\r\n                                    );\r\n                                }\r\n                            \r\n\r\n                            isEvent = true;\r\n                        }   \r\n                    }\r\n\r\n                    if(!isEvent) {\r\n                        days.push(\r\n                            <div\r\n                                className={`col cell ${\r\n                                    !dateFns.isSameMonth(day, monthStart)\r\n                                        ? \"disabled\"\r\n                                        : dateFns.isSameDay(day, selectedDate) ? \"selected\" : \"\"\r\n                                    }`}\r\n                                key={day}\r\n                            >\r\n                                <span className=\"number\">{formattedDate}</span>\r\n                                <span className=\"bg\">{formattedDate}</span>\r\n                            </div>\r\n                        );\r\n                    }\r\n\r\n                    // days.push(\r\n                    //     <div\r\n                    //         className={`col cell ${\r\n                    //             !dateFns.isSameMonth(day, monthStart)\r\n                    //                 ? \"disabled\"\r\n                    //                 : dateFns.isSameDay(day, selectedDate) ? \"selected\" : \"\"\r\n                    //             }`}\r\n                    //         key={day}\r\n                    //         // onClick={() => this.onDateClick(dateFns.toDate(cloneDay))}\r\n                    //         onClick={e => {\r\n                    //           this.showModal(e);\r\n                    //         }}\r\n                    //     >\r\n                    //         <span className=\"number\">{formattedDate}</span>\r\n                    //         <span className=\"bg\">{formattedDate}</span>\r\n\r\n                    //         <span>bla</span> \r\n                    //     </div>\r\n                    // );\r\n                    day = dateFns.addDays(day, 1);\r\n                }\r\n                rows.push(\r\n                    <div className=\"row\" key={day}>\r\n                        {days}\r\n                    </div>\r\n                );\r\n                days = [];\r\n            }\r\n                return <div className=\"body\">{rows}</div>;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Set the current state to the selected day\r\n     */\r\n    onDateClick = day => {\r\n        this.setState({\r\n            selectedDate: \"day\"\r\n        });\r\n        \r\n    };\r\n\r\n    /**\r\n     * Go to next month\r\n     */\r\n    nextMonth = () => {\r\n        this.setState({\r\n            currentMonth: dateFns.addMonths(this.state.currentMonth, 1)\r\n        });\r\n    };\r\n\r\n    \r\n    /**\r\n     * Go to previous month\r\n     */\r\n    prevMonth = () => {\r\n        this.setState({\r\n            currentMonth: dateFns.subMonths(this.state.currentMonth, 1)\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n          <div id=\"parent\">\r\n            <div className=\"calendar\">\r\n                {this.renderHeader()}\r\n                {this.renderDays()}\r\n                {this.renderCells()}\r\n            </div>\r\n            <div className=\"modal\">\r\n              <Modal \r\n              onClose={this.showModal} \r\n              show={this.state.show}\r\n              calendarEventDayData={this.calendarEventDayData}\r\n              >\r\n              </Modal>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EventCalendar;","import React, { Component } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport \"react-table/react-table.css\";\r\nimport Form from \"./Form\";\r\nimport { db, firebase } from \"./firebase\";\r\nimport uuid from \"uuid\";\r\nimport Cards from \"./Cards\";\r\nimport EventCalendar from \"./EventCalendar/EventCalendar\";\r\nimport moment from \"moment\";\r\nimport { categories } from \"./AddEvent\";\r\nimport { TextField, Container } from \"@material-ui/core\";\r\n\r\nexport class EventHome extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            anchorEl: null,\r\n            openMenu: false,\r\n            anchorEl2: null,\r\n            openMenu2: false,\r\n            anchorEl3: null,\r\n            openMenu3: false,\r\n            showForm: false,\r\n            showShared: \"events\",\r\n            events: [],\r\n            sharedEvents: [],\r\n            acceptedEvents: [],\r\n            filteredEvents: [],\r\n            filteredSharedEvents: [],\r\n            filteredAcceptedEvents: [],\r\n            eventSortOrder: \"descending\",\r\n            search: \"\"\r\n        };\r\n    }\r\n\r\n    areThereNoEvents() {\r\n        return (\r\n            this.state.events === null ||\r\n            this.state.events === undefined ||\r\n            this.state.events.length === 0\r\n        );\r\n    }\r\n\r\n    areThereNoSharedEvents() {\r\n        return (\r\n            this.state.sharedEvents === null ||\r\n            this.state.sharedEvents === undefined ||\r\n            this.state.sharedEvents.length === 0\r\n        );\r\n    }\r\n    areNoAcceptedEvents() {\r\n        return (\r\n            this.state.acceptedEvents === null ||\r\n            this.state.acceptedEvents === undefined ||\r\n            this.state.acceptedEvents.length === 0\r\n        );\r\n    }\r\n\r\n    isSearching() {\r\n        return this.state.search != \"\";\r\n    }\r\n\r\n    sendEmail = () => {\r\n        this.setState({ showForm: true });\r\n    };\r\n\r\n    switchEventView = () => {\r\n        this.setState({ showShared: !this.state.showShared });\r\n    };\r\n\r\n    setEventOrder = order => {\r\n        this.handleClose3();\r\n        this.setState({ eventSortOrder: order });\r\n    };\r\n\r\n    /**\r\n     * Comparator for ordering events ascending\r\n     */\r\n    compareEventStartDatesAscending(a, b) {\r\n        if (moment(a.startDate).valueOf() < moment(b.startDate).valueOf()) {\r\n            return -1;\r\n        }\r\n\r\n        if (moment(a.startDate).valueOf() > moment(b.startDate).valueOf()) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * Comparator for ordering events descending\r\n     */\r\n    compareEventStartDatesDescending(a, b) {\r\n        if (moment(a.startDate).valueOf() < moment(b.startDate).valueOf()) {\r\n            return 1;\r\n        }\r\n\r\n        if (moment(a.startDate).valueOf() > moment(b.startDate).valueOf()) {\r\n            return -1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * Comparator for ordering events by category\r\n     */\r\n    compareEventCategory(a, b) {\r\n        const map = {};\r\n        map[categories.None] = 0;\r\n        map[categories.Hobbies] = 1;\r\n        map[categories.Social] = 2;\r\n        map[categories.Errands] = 3;\r\n        map[categories.Projects] = 4;\r\n        map[categories.Hobbies] = 5;\r\n\r\n        if (map[a.category] < map[b.category]) {\r\n            return -1;\r\n        }\r\n\r\n        if (map[a.category] > map[b.category]) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    viewForm = () => {\r\n        if (this.state.showShared === \"events\") {\r\n            return <div>{this.showEvents()}</div>;\r\n        } else if (this.state.showShared === \"shared\") {\r\n            return <div>{this.showSharedEvents()}</div>;\r\n        } else if (this.state.showShared === \"accepted\") {\r\n            return <div>{this.showAcceptedEvents()}</div>;\r\n        } else if (this.state.showShared === \"calendar\") {\r\n            return <div>{this.showCalendar()}</div>;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Displays event table\r\n     * @return Header saying no events or Table of Events\r\n     */\r\n    showEvents = () => {\r\n        var displayedEvents = [];\r\n\r\n        if (this.isSearching()) {\r\n            displayedEvents = this.state.filteredEvents;\r\n        } else {\r\n            displayedEvents = this.state.events;\r\n        }\r\n\r\n        switch (this.state.eventSortOrder) {\r\n            case \"ascending\": {\r\n                displayedEvents.sort(this.compareEventStartDatesAscending);\r\n                break;\r\n            }\r\n            case \"descending\": {\r\n                displayedEvents.sort(this.compareEventStartDatesDescending);\r\n                break;\r\n            }\r\n            case \"category\": {\r\n                displayedEvents.sort(this.compareEventCategory);\r\n                break;\r\n            }\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (this.areThereNoEvents()) {\r\n            return <h2>No events</h2>;\r\n        } else {\r\n            return displayedEvents.map((event, index) => (\r\n                <Container maxWidth=\"xl\">\r\n                    <Cards\r\n                        key={index}\r\n                        data={event}\r\n                        editEvent={id => this.props.editEvent(id)}\r\n                        deleteEvent={id => this.deleteEvent(id)}\r\n                    />\r\n                </Container>\r\n            ));\r\n        }\r\n    };\r\n\r\n    showSharedEvents = () => {\r\n        var displayedEvents = [];\r\n\r\n        if (this.isSearching()) {\r\n            displayedEvents = this.state.filteredSharedEvents;\r\n        } else {\r\n            displayedEvents = this.state.sharedEvents;\r\n        }\r\n\r\n        switch (this.state.eventSortOrder) {\r\n            case \"ascending\": {\r\n                displayedEvents.sort(this.compareEventStartDatesAscending);\r\n                break;\r\n            }\r\n            case \"descending\": {\r\n                displayedEvents.sort(this.compareEventStartDatesDescending);\r\n                break;\r\n            }\r\n            case \"category\": {\r\n                displayedEvents.sort(this.compareEventCategory);\r\n                break;\r\n            }\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (this.areThereNoSharedEvents()) {\r\n            return <h2>No shared events</h2>;\r\n        } else {\r\n            console.log();\r\n            return displayedEvents.map((event, index) => (\r\n                <Container maxWidth=\"xl\">\r\n                    <Cards\r\n                        key={index}\r\n                        data={event}\r\n                        isShared={true}\r\n                        hasAccepted={false}\r\n                        acceptInvite={id => this.acceptInvite(id)}\r\n                        declineInvite={id => this.declineInvite(id)}\r\n                    />\r\n                </Container>\r\n            ));\r\n        }\r\n    };\r\n\r\n    showAcceptedEvents = () => {\r\n        var displayedEvents = [];\r\n\r\n        if (this.isSearching()) {\r\n            displayedEvents = this.state.filteredAcceptedEvents;\r\n        } else {\r\n            displayedEvents = this.state.acceptedEvents;\r\n        }\r\n\r\n        switch (this.state.eventSortOrder) {\r\n            case \"ascending\": {\r\n                displayedEvents.sort(this.compareEventStartDatesAscending);\r\n                break;\r\n            }\r\n            case \"descending\": {\r\n                displayedEvents.sort(this.compareEventStartDatesDescending);\r\n                break;\r\n            }\r\n            case \"category\": {\r\n                displayedEvents.sort(this.compareEventCategory);\r\n                break;\r\n            }\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (this.areNoAcceptedEvents()) {\r\n            return <h2>No accepted events</h2>;\r\n        } else {\r\n            return displayedEvents.map((event, index) => (\r\n                <Container maxWidth=\"xl\">\r\n                    <Cards\r\n                        key={index}\r\n                        data={event}\r\n                        isShared={true}\r\n                        hasAccepted={true}\r\n                    />\r\n                </Container>\r\n            ));\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Displays event calendar\r\n     */\r\n    showCalendar = () => {\r\n        const { events } = this.state;\r\n        const { sharedEvents, acceptedEvents } = this.state;\r\n\r\n        if (\r\n            !this.areThereNoEvents() ||\r\n            !this.areThereNoSharedEvents() ||\r\n            !this.areNoAcceptedEvents()\r\n        ) {\r\n            return (\r\n                <div className=\"App\">\r\n                    <main>\r\n                        <EventCalendar\r\n                            events={events}\r\n                            sharedEvents={sharedEvents}\r\n                            acceptedEvents={acceptedEvents}\r\n                        ></EventCalendar>\r\n                    </main>\r\n                </div>\r\n            );\r\n        } else {\r\n            return <h2>There are no events to be displayed</h2>;\r\n        }\r\n    };\r\n\r\n    handleSearch = text => {\r\n        this.setState({\r\n            search: text.target.value,\r\n            filteredEvents: this.filterEvents(this.state.events),\r\n            filteredSharedEvents: this.filterEvents(this.state.sharedEvents),\r\n            filteredAcceptedEvents: this.filterEvents(this.state.acceptedEvents)\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Filters event by search input. Supports event title, description, category, and time\r\n     * @param eventsToFilter Takes in events to filter\r\n     * @return Filtered events by search input\r\n     */\r\n    filterEvents = eventsToFilter => {\r\n        var filteredEvents = [];\r\n\r\n        for (let i = 0; i < eventsToFilter.length; i++) {\r\n            let searchLowerCase = this.state.search.toLowerCase();\r\n\r\n            let accepted =\r\n                eventsToFilter[i].title\r\n                    .toLowerCase()\r\n                    .includes(searchLowerCase) ||\r\n                eventsToFilter[i].category\r\n                    .toLowerCase()\r\n                    .includes(searchLowerCase) ||\r\n                eventsToFilter[i].description\r\n                    .toLowerCase()\r\n                    .includes(searchLowerCase) ||\r\n                moment(eventsToFilter[i].startDate)\r\n                    .format(\"LLLL\")\r\n                    .toLowerCase()\r\n                    .includes(searchLowerCase);\r\n\r\n            if (accepted) {\r\n                filteredEvents.push(eventsToFilter[i]);\r\n            }\r\n        }\r\n\r\n        return filteredEvents;\r\n    };\r\n\r\n    getMainStyle = () => {\r\n        return {\r\n            textAlign: \"center\",\r\n            padding: \"5px\",\r\n            background: \"#fff\"\r\n        };\r\n    };\r\n\r\n    getBtnStyle = () => {\r\n        return {\r\n            textAlign: \"right\",\r\n            padding: \"10px\",\r\n            background: \"#fff\"\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Opening drop down menu\r\n     * @param e takes in event of clicking drop down menu\r\n     * @return position of drop down menu\r\n     * @return boolean to open menu\r\n     */\r\n    handleClick = e => {\r\n        this.setState({\r\n            anchorEl: e.currentTarget,\r\n            openMenu: !this.state.openMenu\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Clicks create event option and starts adding event\r\n     */\r\n    handleAddEventMenu = () => {\r\n        this.handleClose();\r\n        this.props.beginAddEvent();\r\n    };\r\n    /**\r\n     * Opening drop down menu\r\n     * @param e takes in event of clicking drop down menu\r\n     * @return position of drop down menu\r\n     * @return boolean to open menu\r\n     */\r\n    handleClick = e => {\r\n        this.setState({\r\n            anchorEl: e.currentTarget,\r\n            openMenu: !this.state.openMenu\r\n        });\r\n    };\r\n    handleClick2 = e => {\r\n        this.setState({\r\n            anchorEl2: e.currentTarget,\r\n            openMenu2: !this.state.openMenu2\r\n        });\r\n    };\r\n    handleClick3 = e => {\r\n        this.setState({\r\n            anchorEl3: e.currentTarget,\r\n            openMenu3: !this.state.openMenu3\r\n        });\r\n    };\r\n\r\n    /**\r\n     * closes drop down menu\r\n     */\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null, openMenu: !this.state.openMenu });\r\n    };\r\n    handleClose2 = () => {\r\n        this.setState({ anchorEl2: null, openMenu2: !this.state.openMenu2 });\r\n    };\r\n    handleClose3 = () => {\r\n        this.setState({ anchorEl3: null, openMenu3: !this.state.openMenu3 });\r\n    };\r\n\r\n    /**\r\n     * Clicks join event option\r\n     */\r\n    handleJoinEventMenu = () => {\r\n        this.handleClose();\r\n        this.props.beginJoinEvent();\r\n    };\r\n\r\n    /**\r\n     * Delete Event\r\n     */\r\n    deleteEvent = id => {\r\n        let batch = db.batch();\r\n        db.collection(\"events\")\r\n            .doc(id)\r\n            .get()\r\n            .then(doc => {\r\n                if (doc.data().accepted_invitees) {\r\n                    for (\r\n                        let x = 0;\r\n                        x < doc.data().accepted_invitees.length;\r\n                        x++\r\n                    ) {\r\n                        const id2 = uuid.v4();\r\n                        var temp = db.collection(\"notifications\").doc(id2);\r\n                        batch.set(temp, {\r\n                            user: doc.data().accepted_invitees[x],\r\n                            seen: false,\r\n                            typeOf: 2,\r\n                            eventTitle: doc.data().title,\r\n                            id: id2\r\n                        });\r\n                    }\r\n                }\r\n                if (doc.data().invitees) {\r\n                    for (let x = 0; x < doc.data().invitees.length; x++) {\r\n                        const id2 = uuid.v4();\r\n                        var temp = db.collection(\"notifications\").doc(id2);\r\n                        batch.set(temp, {\r\n                            user: doc.data().invitees[x],\r\n                            seen: false,\r\n                            typeOf: 2,\r\n                            eventTitle: doc.data().title,\r\n                            id: id2\r\n                        });\r\n                    }\r\n                }\r\n                batch.commit();\r\n\r\n                this.state.events.find(event => {\r\n                    if (event.id === id) {\r\n                        /* email notification */\r\n                        var invitees = event.invitees;\r\n                        var templateId = \"yes\";\r\n                        var emailEvent = event.title;\r\n                        var emailDescription = event.description;\r\n                        var emailStartDate =\r\n                            moment(event.startDate).format(\"LLLL\") +\r\n                            \" - \" +\r\n                            moment(event.endDate).format(\"LT\");\r\n                        console.log(\"event categories: \" + event.categories);\r\n                        var emailCategory = event.category;\r\n                        //var emailEndDate = event.endDate;\r\n\r\n                        console.log(\"delete event\");\r\n                        console.log(\"invitees: \" + invitees);\r\n                        console.log(\"emailEvent: \" + emailEvent);\r\n                        console.log(\"emailDescription: \" + emailDescription);\r\n                        console.log(\"emailStartDate: \" + emailStartDate);\r\n                        //console.log(\"emailEndDate: \" + emailEndDate);\r\n\r\n                        window.emailjs\r\n                            .send(\"gmail\", templateId, {\r\n                                send_to: [invitees],\r\n                                subject: \"An event has been deleted!\",\r\n                                emailEvent: emailEvent,\r\n                                emailDescription: emailDescription,\r\n                                emailStartDate: emailStartDate,\r\n                                emailCategory: emailCategory\r\n                            }) //, \"emailEndDate\": emailEndDate\r\n                            .then(res => {\r\n                                console.log(\"Email successfully sent!\");\r\n                                db.collection(\"events\")\r\n                                    .doc(id)\r\n                                    .delete();\r\n                            })\r\n                            .catch(\r\n                                db\r\n                                    .collection(\"events\")\r\n                                    .doc(id)\r\n                                    .delete()\r\n                            );\r\n                    }\r\n                });\r\n\r\n                // db.collection(\"events\")\r\n                // .doc(id)\r\n                // .delete();\r\n            })\r\n            .catch(err => console.log(err));\r\n    };\r\n    acceptInvite = id => {\r\n        const document = db.collection(\"events\").doc(id);\r\n        document\r\n            .update({\r\n                invitees: firebase.firestore.FieldValue.arrayRemove(\r\n                    JSON.parse(localStorage.getItem(\"currentUser\"))\r\n                )\r\n            })\r\n            .catch(err => console.error(err));\r\n        document\r\n            .update({\r\n                accepted_invitees: firebase.firestore.FieldValue.arrayUnion(\r\n                    JSON.parse(localStorage.getItem(\"currentUser\"))\r\n                )\r\n            })\r\n            .catch(err => console.error(err));\r\n    };\r\n    declineInvite = id => {\r\n        const document = db.collection(\"events\").doc(id);\r\n        document\r\n            .update({\r\n                invitees: firebase.firestore.FieldValue.arrayRemove(\r\n                    JSON.parse(localStorage.getItem(\"currentUser\"))\r\n                )\r\n            })\r\n            .catch(err => console.error(err));\r\n        document\r\n            .update({\r\n                declined_invitees: firebase.firestore.FieldValue.arrayUnion(\r\n                    JSON.parse(localStorage.getItem(\"currentUser\"))\r\n                )\r\n            })\r\n            .catch(err => console.error(err));\r\n    };\r\n\r\n    /**\r\n     * Renders table and buttons below the header.\r\n     * @return Buttons\r\n     * @return Event Table\r\n     * @return Event Calendar(not implemented)\r\n     */\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.showForm && (\r\n                    <div>\r\n                        <Form handleDisplay={this.handleDisplay}></Form>\r\n                    </div>\r\n                )}\r\n                <div style={this.getBtnStyle()}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-controls=\"simple-menu\"\r\n                        aria-haspopup=\"true\"\r\n                        onClick={e => this.handleClick(e)}\r\n                    >\r\n                        Create/Join Event\r\n                    </Button>\r\n                    <Menu\r\n                        id=\"simple-menu\"\r\n                        anchorEl={this.state.anchorEl}\r\n                        open={this.state.openMenu}\r\n                        onClose={this.handleClose}\r\n                    >\r\n                        <MenuItem onClick={this.handleAddEventMenu}>\r\n                            Create Event\r\n                        </MenuItem>\r\n                        <MenuItem onClick={this.handleJoinEventMenu}>\r\n                            Join Event\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </div>\r\n                <div style={this.getBtnStyle()}>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-controls=\"simple-menu\"\r\n                        aria-haspopup=\"true\"\r\n                        onClick={e => this.handleClick3(e)}\r\n                    >\r\n                        Sort Event\r\n                    </Button>\r\n                    <Menu\r\n                        id=\"simple-menu\"\r\n                        anchorEl={this.state.anchorEl3}\r\n                        open={this.state.openMenu3}\r\n                        onClose={this.handleClose3}\r\n                    >\r\n                        <MenuItem\r\n                            onClick={() => this.setEventOrder(\"descending\")}\r\n                        >\r\n                            Latest\r\n                        </MenuItem>\r\n                        <MenuItem\r\n                            onClick={() => this.setEventOrder(\"ascending\")}\r\n                        >\r\n                            Earliest\r\n                        </MenuItem>\r\n                        <MenuItem\r\n                            onClick={() => this.setEventOrder(\"category\")}\r\n                        >\r\n                            Category\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </div>\r\n                <TextField\r\n                    type=\"text\"\r\n                    variant=\"outlined\"\r\n                    inputProps={{ style: { textAlign: \"center\" } }}\r\n                    placeholder=\"Search for title, description, category, date..\"\r\n                    fullWidth\r\n                    value={this.state.search}\r\n                    margin=\"normal\"\r\n                    onChange={search => this.handleSearch(search)}\r\n                />\r\n                <div style={this.getMainStyle()}>\r\n                    <Button color=\"secondary\" variant=\"outlined\" onClick={e => this.handleClick2(e)}>Switch</Button>\r\n                    <Menu\r\n                        id=\"simple-menu-sort\"\r\n                        anchorEl={this.state.anchorEl2}\r\n                        open={this.state.openMenu2}\r\n                        onClose={this.handleClose2}\r\n                    >\r\n                        <MenuItem\r\n                            onClick={() => this.handleMenuClick(\"events\")}\r\n                        >\r\n                            Show Own Events\r\n                        </MenuItem>\r\n                        <MenuItem\r\n                            onClick={() => this.handleMenuClick(\"shared\")}\r\n                        >\r\n                            Show New Event Invites\r\n                        </MenuItem>\r\n                        <MenuItem\r\n                            onClick={() => this.handleMenuClick(\"accepted\")}\r\n                        >\r\n                            Show Accepted Events\r\n                        </MenuItem>\r\n                        <MenuItem\r\n                            onClick={() => this.handleMenuClick(\"calendar\")}\r\n                        >\r\n                            Show Event Calendar\r\n                        </MenuItem>\r\n                    </Menu>\r\n                    {this.viewForm()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * this shows form for inviting others\r\n     */\r\n    handleDisplay = () => {\r\n        this.setState({ showForm: false });\r\n    };\r\n    handleMenuClick = text => {\r\n        this.handleClose2();\r\n        this.setState({ showShared: text });\r\n    };\r\n\r\n    componentDidMount() {\r\n        let tempObject = { temp: [] };\r\n\r\n        const currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        this.unsubscribe1 = db\r\n            .collection(\"events\")\r\n            .where(\"owners\", \"array-contains\", currentUser)\r\n            .onSnapshot(data => {\r\n                tempObject.temp = [];\r\n                data.forEach(doc => {\r\n                    tempObject.temp.push(doc.data());\r\n                });\r\n                this.setState({ events: tempObject.temp });\r\n            });\r\n\r\n        this.unsubscribe2 = db\r\n            .collection(\"events\")\r\n            .where(\"invitees\", \"array-contains\", currentUser)\r\n            .onSnapshot(data => {\r\n                tempObject.temp = [];\r\n                data.forEach(doc => {\r\n                    console.log(\"2\");\r\n                    tempObject.temp.push(doc.data());\r\n                });\r\n                this.setState({ sharedEvents: tempObject.temp });\r\n            });\r\n\r\n        this.unsubscribe3 = db\r\n            .collection(\"events\")\r\n            .where(\"accepted_invitees\", \"array-contains\", currentUser)\r\n            .onSnapshot(data => {\r\n                tempObject.temp = [];\r\n                data.forEach(doc => {\r\n                    console.log(\"3\");\r\n                    tempObject.temp.push(doc.data());\r\n                });\r\n                this.setState({ acceptedEvents: tempObject.temp });\r\n            });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log(\"unsub\");\r\n        this.unsubscribe1();\r\n        this.unsubscribe2();\r\n        this.unsubscribe3();\r\n    }\r\n}\r\n/**\r\n * @return events that current user made that are not shared\r\n * @return shared events which are events current user shared(invited people)\r\n */\r\n\r\nexport default EventHome;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MySnackbarContent from \"./Snackbar\";\r\n\r\n//database\r\nimport { db, firebase } from \"./firebase\";\r\n\r\nexport default function AddContact() {\r\n    //----- states -----\r\n    const [open, setOpen] = React.useState(false);\r\n    const [userInput, setUserInput] = React.useState(\"\");\r\n    const [currentUser] = React.useState(\r\n        JSON.parse(localStorage.getItem(\"currentUser\"))\r\n    );\r\n    const [errorOpen, setErrorOpen] = React.useState(false);\r\n    const [successOpen, setSuccessOpen] = React.useState(false);\r\n    const [message, setMessage] = React.useState(\"\");\r\n    //----- end of states -----\r\n\r\n    //----- styles -----\r\n    const btnStyle = {\r\n        textAlign: \"left\"\r\n    };\r\n    //----- end of styles -----\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleErrorClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n\r\n        setErrorOpen(false);\r\n    };\r\n    const handleSuccessClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n\r\n        setSuccessOpen(false);\r\n    };\r\n\r\n    /**\r\n     * Adds contact by referencing database\r\n     */\r\n    const handleAddContact = () => {\r\n        /*\r\n            first it checks in database if userinput exists\r\n            then it accesses the current user's doc, and updates\r\n            their contact list with the user's input contact\r\n\r\n            when you add the contact, it adds the name, email and \r\n            profile picture URL\r\n\r\n            concerns: we did not use boolean variables to seperate the\r\n            check from the database addition because it does not update \r\n            fast enough and the contact does not get added\r\n        */\r\n\r\n        if (userInput !== \"\") {\r\n            db.collection(\"users\")\r\n                .doc(userInput)\r\n                .get()\r\n                .then(docSnapshot => {\r\n                    if (docSnapshot.exists) {\r\n                        let docRef = db.collection(\"users\").doc(currentUser);\r\n                        docRef.get().then(doc => {\r\n                            const userContacts = doc.data().contacts\r\n                            // filter the contacts array\r\n                            const newContacts = userContacts.filter(\r\n                                contact => contact.email !== userInput\r\n                            )\r\n\r\n                            // update the doc with the filtered contacts\r\n                            db.collection(\"users\")\r\n                                .doc(currentUser)\r\n                                .update({\r\n                                    contacts: newContacts\r\n                                })\r\n                            /////\r\n                            /*\r\n                            db.collection(\"users\")\r\n                                .doc(currentUser)\r\n                                .update({\r\n                                    ['contacts.' + userInput]: firebase.firestore.FieldValue.delete()\r\n                                });*/\r\n                            db.collection(\"users\")\r\n                                .doc(currentUser)\r\n                                .update({\r\n                                    contacts: firebase.firestore.FieldValue.arrayUnion(\r\n                                        {\r\n                                            displayName: docSnapshot.data().displayName,\r\n                                            email: userInput,\r\n                                            pictureURL: docSnapshot.data().pictureURL,\r\n                                        }\r\n                                    )\r\n                                });\r\n                            handleClose();\r\n                            setSuccessOpen(true);\r\n                            setMessage(\"Successfully added contact!\");\r\n                        });\r\n                    }\r\n                    else {\r\n                        setErrorOpen(true);\r\n                        setMessage(\"Invalid contact!\");\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log('handleDeleteContact: Error getting document', err);\r\n                });\r\n        } else {\r\n            setErrorOpen(true);\r\n            setMessage(\"Invalid contact!\");\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * Handles User Input when entering contact's\r\n     * email\r\n     * @param {*} t text that user types in\r\n     */\r\n    const handleInput = t => {\r\n        setUserInput(t.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div style={btnStyle}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    onClick={handleClickOpen}\r\n                >\r\n                    Add Contact\r\n                </Button>\r\n            </div>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"form-dialog-title\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">Adding Contact</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        To add a contact, please enter their email address.\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Email Address\"\r\n                        type=\"email\"\r\n                        fullWidth\r\n                        onChange={handleInput}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleAddContact} color=\"primary\">\r\n                        Enter\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\"\r\n                }}\r\n                open={errorOpen}\r\n                autoHideDuration={6000}\r\n                onClose={handleErrorClose}\r\n            >\r\n                <MySnackbarContent\r\n                    onClose={handleErrorClose}\r\n                    variant=\"error\"\r\n                    message={message}\r\n                />\r\n            </Snackbar>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\"\r\n                }}\r\n                open={successOpen}\r\n                autoHideDuration={6000}\r\n                onClose={handleSuccessClose}\r\n            >\r\n                <MySnackbarContent\r\n                    onClose={handleSuccessClose}\r\n                    variant=\"success\"\r\n                    message={message}\r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { db, firebase } from \"./firebase\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n//import { Button, IconButton } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Icon } from \"@material-ui/core\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function ViewContacts() {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [currentUser] = React.useState(\r\n        JSON.parse(localStorage.getItem(\"currentUser\"))\r\n    );\r\n    const [c, setListofContacts] = React.useState([]);\r\n    const [refresh, setRefresh] = React.useState(false);\r\n    const btnStyle = {\r\n        textAlign: \"left\"\r\n    };\r\n\r\n    useEffect(() => {\r\n        let xd = [];\r\n        db.collection(\"users\")\r\n            .doc(currentUser)\r\n            .get()\r\n            .then(doc => {\r\n                if (doc.exists) {\r\n                    doc.data().contacts.forEach(o => {\r\n                        db.collection(\"users\")\r\n                            .doc(o.email)\r\n                            .get()\r\n                            .then(doc => {\r\n                                if (doc.exists) {\r\n                                    let obj = {\r\n                                        displayName: doc.data().displayName,\r\n                                        pictureURL: doc.data().pictureURL,\r\n                                        email: doc.data().email\r\n                                    };\r\n                                    xd.push(obj);\r\n                                    setListofContacts([...xd]);\r\n                                }\r\n                            });\r\n                    });\r\n                    //setListofContacts(xd);\r\n                }\r\n            });\r\n        //eslint-disable-next-line\r\n    }, [refresh]);\r\n\r\n    /**\r\n     * Handles deleted contact\r\n     */\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n        setRefresh(!refresh);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    function handleViewProfile(contactEmail) {\r\n        localStorage.setItem(\"selectedContact\", JSON.stringify(contactEmail));\r\n        console.log(\"handleViewProfile - contactEmail: \" + contactEmail);\r\n    }\r\n\r\n    const handleDelete = index => {\r\n        c.splice(index, 1);\r\n        db.collection(\"users\")\r\n            .doc(currentUser)\r\n            .update({\r\n                contacts: c\r\n            });\r\n        setRefresh(!refresh);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div style={btnStyle}>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    onClick={handleClickOpen}\r\n                >\r\n                    View Contacts\r\n                </Button>\r\n            </div>\r\n            <Dialog\r\n                open={open}\r\n                TransitionComponent={Transition}\r\n                keepMounted\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <DialogTitle>{\"List of your Contacts\"}</DialogTitle>\r\n                <DialogContent>\r\n                    {c.map((contact, index) => (\r\n                        <li key={index} style={{ listStyleType: \"none\" }}>\r\n                            <br />\r\n                            <img\r\n                                src={contact.pictureURL}\r\n                                alt=\"Profile\"\r\n                                vertical-align=\"middle\"\r\n                                width=\"30px\"\r\n                                height=\"30px\"\r\n                            />\r\n                            {\"    \"}\r\n                            {contact.displayName}\r\n                            {\"    \"}\r\n                            <br />\r\n                            {contact.email}\r\n                            <IconButton\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                margin=\"theme.spacing(3)\"\r\n                                size=\"small\"\r\n                                startIcon={<DeleteIcon />}\r\n                                value={contact.email}\r\n                                onClick={() => {\r\n                                    handleDelete(index);\r\n                                }}\r\n                            >\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                            <br />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                size=\"small\"\r\n                                onClick={() => {\r\n                                    handleViewProfile(contact.email);\r\n                                }}\r\n                                component={Link}\r\n                                to=\"/contact\"\r\n                            >\r\n                                View\r\n                            </Button>\r\n                            {\"    \"}\r\n                        </li>\r\n                    ))}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Close\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FiberNewOutlinedIcon from '@material-ui/icons/FiberNewOutlined';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport IconButton from '@material-ui/core/IconButton'\r\n\r\n\r\n\r\nexport default class Notifcations extends Component {\r\n    \r\n    getMessage = () =>{\r\n        const {data} = this.props\r\n        if(data.typeOf === 1){\r\n            return \"You've been invited to \" + data.eventTitle +  \"!\"\r\n        } else if(data.typeOf === 2){\r\n            return data.eventTitle  +  \" has been deleted!\"\r\n        }\r\n        else if(data.typeOf === 3){\r\n            return data.eventTitle + \" has been changed by the owner!\"\r\n        }\r\n        else{\r\n            console.log(\"Error, should not appear!\")\r\n            return \"typeOf returned bad\"\r\n        }\r\n    }\r\n    render() {\r\n    \r\n      let New = !this.props.data.seen ? <FiberNewOutlinedIcon/> : null\r\n    return (\r\n      <div>\r\n        <Paper>\r\n          <Grid container wrap=\"nowrap\" spacing={2}>\r\n            <Grid item xs>\r\n                {New}\r\n              <Typography>{this.getMessage()}</Typography>\r\n                <IconButton aria-label=\"delete\" onClick = {() => this.props.handleDelete(this.props.data.id) }> \r\n                  <DeleteIcon/>\r\n                </IconButton>\r\n\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport AddContact from \"./AddContact\";\r\nimport ViewContacts from \"./ViewContacts\";\r\nimport firebase from \"firebase\";\r\nimport logo from \"./logo.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport { db } from \"./firebase\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Notifications from \"./Notifcations\";\r\n\r\nconst headerStyle = {\r\n    background: \"#e7f5fe\",\r\n    color: \"ivory\",\r\n    textAlign: \"center\",\r\n    padding: \"2px\",\r\n    fontSize: \"24px\",\r\n    fontFamily: \"Arial\"\r\n};\r\n\r\nconst headButtonStyle = {\r\n    textAlign: \"right\"\r\n};\r\n\r\nexport class Header extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: null,\r\n            addContactsPrompt: false,\r\n            unreadNotifications: 0,\r\n            notifications: [],\r\n            displayNotifications: false\r\n        };\r\n    }\r\n\r\n    //localStorage is to access database document\r\n    /**\r\n     * when header mounts, it updates user data\r\n     * @return user data from the database\r\n     */\r\n    componentDidMount() {\r\n        db.collection(\"users\")\r\n            .doc(JSON.parse(localStorage.getItem(\"currentUser\")))\r\n            .get()\r\n            .then(data => {\r\n                if (data.exists) {\r\n                    this.setState({ user: data.data() });\r\n                } else {\r\n                    //console.log(\"Sad toot\");\r\n                }\r\n            });\r\n        db.collection(\"notifications\")\r\n            .where(\r\n                \"user\",\r\n                \"==\",\r\n                JSON.parse(localStorage.getItem(\"currentUser\"))\r\n            )\r\n            .onSnapshot(data => {\r\n                let tempNotifications = [];\r\n                let activeNotificationCount = 0;\r\n                data.forEach(doc => {\r\n                    if (!doc.data().seen) {\r\n                        activeNotificationCount++;\r\n                    }\r\n                    tempNotifications.push(doc.data());\r\n                });\r\n                this.setState({\r\n                    unreadNotifications: activeNotificationCount,\r\n                    notifications: tempNotifications\r\n                });\r\n            });\r\n    }\r\n    handleClick = () => {\r\n        if (this.state.displayNotifications === true) {\r\n            let batch = db.batch();\r\n            for (let i = 0; i < this.state.notifications.length; i++) {\r\n                let tempDoc = db\r\n                    .collection(\"notifications\")\r\n                    .doc(this.state.notifications[i].id);\r\n                batch.update(tempDoc, { seen: true });\r\n            }\r\n            batch.commit().catch(err => console.log(err));\r\n        }\r\n        this.setState({\r\n            displayNotifications: !this.state.displayNotifications\r\n        });\r\n\r\n        //\r\n    };\r\n    handleDelete = id => {\r\n        db.collection(\"notifications\")\r\n            .doc(id)\r\n            .delete();\r\n    };\r\n    NotificationBar = () => {\r\n        const style = {\r\n          color: \"black\"\r\n        }\r\n        const { notifications } = this.state;\r\n        if (notifications.length !== 0) {\r\n            console.log(notifications);\r\n            return notifications.map((notification, index) => (\r\n                <Notifications\r\n                    key={index}\r\n                    data={notification}\r\n                    handleDelete={id => this.handleDelete(id)}\r\n                />\r\n            ));\r\n        } else {\r\n            console.log(\"xdxd\");\r\n            return <h4 style={style}>No notifications to be shown</h4>;\r\n        }\r\n    };\r\n    /**\r\n     * Renders the buttons to view/add contacts and\r\n     * sign out button and name of user\r\n     */\r\n    render() {\r\n        return (\r\n            <div>\r\n                <header style={headerStyle}>\r\n                    <img\r\n                        src={logo}\r\n                        height=\"180px\"\r\n                        width=\"230px\"\r\n                        alt=\"Schedule It\"\r\n                    />\r\n                    <br/>\r\n                    <Badge\r\n                        badgeContent={this.state.unreadNotifications}\r\n                        color=\"secondary\"\r\n                    >\r\n                        <IconButton onClick={() => this.handleClick()}>\r\n                            <NotificationsIcon />\r\n                        </IconButton>\r\n                    </Badge>\r\n                    {/* <h1>Schedule It!</h1> */}\r\n\r\n                    {this.state.displayNotifications && this.NotificationBar()}\r\n                    <div>\r\n                        {this.state.user && (\r\n                            <div>\r\n                                <div style={headButtonStyle}>\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        size=\"small\"\r\n                                        component={Link}\r\n                                        to=\"/profile\"\r\n                                    >\r\n                                        Profile\r\n                                    </Button>\r\n                                    <br />\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        size=\"small\"\r\n                                        component={Link}\r\n                                        to=\"/home\"\r\n                                    >\r\n                                        Events\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <AddContact />\r\n                        <ViewContacts />\r\n                    </div>\r\n                </header>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { db, firebase } from \"./firebase\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MySnackbarContent from \"./Snackbar\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Join(props) {\r\n    const [open, setOpen] = React.useState(props.open);\r\n    const [currentUser] = React.useState(\r\n        JSON.parse(localStorage.getItem(\"currentUser\"))\r\n    );\r\n    const [userInput, setUserInput] = React.useState(\"\");\r\n\r\n    // SNACKBAR\r\n    const [errorOpen, setErrorOpen] = React.useState(false);\r\n    const [successOpen, setSuccessOpen] = React.useState(false);\r\n    const [message, setMessage] = React.useState(\"\");\r\n\r\n    const handleErrorClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n\r\n        setErrorOpen(false);\r\n    };\r\n    const handleSuccessClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n\r\n        setSuccessOpen(false);\r\n    };\r\n\r\n    //END OF SNACKBAR\r\n\r\n    const handleInput = t => {\r\n        setUserInput(t.target.value);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        props.beginJoinEvent();\r\n    };\r\n\r\n    const handleJoinEvent = () => {\r\n        db.collection(\"events\")\r\n            .where(\"code\", \"==\", userInput)\r\n            .get()\r\n            .then(querySnapshot => {\r\n                if (!querySnapshot.empty) {\r\n                    querySnapshot.forEach(doc => {\r\n                        db.collection(\"events\")\r\n                            .doc(doc.data().id)\r\n                            .update({\r\n                                invitees: firebase.firestore.FieldValue.arrayUnion(\r\n                                    currentUser\r\n                                )\r\n                            });\r\n                        setSuccessOpen(true);\r\n                        setMessage(\"Successfully joined event!\");\r\n                        handleClose();\r\n                    });\r\n                } else {\r\n                    setErrorOpen(true);\r\n                    setMessage(\"Invalid code!\");\r\n                }\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Dialog\r\n                open={open}\r\n                TransitionComponent={Transition}\r\n                keepMounted\r\n                onClose={handleClose}\r\n                aria-labelledby=\"alert-dialog-slide-title\"\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                <DialogTitle>{\"Type in code in join event\"}</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Enter in event's code:\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Event Code\"\r\n                        type=\"email\"\r\n                        fullWidth\r\n                        onChange={handleInput}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Close\r\n                    </Button>\r\n                    <Button onClick={handleJoinEvent} color=\"primary\">\r\n                        Enter\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\"\r\n                }}\r\n                open={errorOpen}\r\n                autoHideDuration={6000}\r\n                onClose={handleErrorClose}\r\n            >\r\n                <MySnackbarContent\r\n                    onClose={handleErrorClose}\r\n                    variant=\"error\"\r\n                    message={message}\r\n                />\r\n            </Snackbar>\r\n            <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\"\r\n                }}\r\n                open={successOpen}\r\n                autoHideDuration={6000}\r\n                onClose={handleSuccessClose}\r\n            >\r\n                <MySnackbarContent\r\n                    onClose={handleSuccessClose}\r\n                    variant=\"success\"\r\n                    message={message}\r\n                />\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport AddEvent from \"./AddEvent\";\r\nimport EventHome from \"./EventHome\";\r\nimport Header from \"./header\";\r\nimport { db } from \"./firebase\";\r\nimport Join from \"./Join\";\r\n\r\nexport class EventManager extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            homePage: true,\r\n            editingEvent: false,\r\n            idOfEditEvent: \"\",\r\n            joinEvent: false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Starts the process of adding a new event\r\n     * @return sets home page to false\r\n     * @return clears localStorage of event details\r\n     */\r\n    beginAddEvent = () => {\r\n        //have to account for them refreshing\r\n        localStorage.removeItem(\"saved_title\");\r\n        localStorage.removeItem(\"saved_description\");\r\n        localStorage.removeItem(\"saved_start_date\");\r\n        localStorage.removeItem(\"saved_end_date\");\r\n        localStorage.removeItem(\"saved_category\");\r\n        this.setAdd();\r\n    };\r\n\r\n    beginJoinEvent = () => {\r\n        this.setState({ joinEvent: !this.state.joinEvent });\r\n    };\r\n\r\n    /**\r\n     * @param id id of event that is being edited\r\n     * @param viewShared if we are editing shared event\r\n     * or normal event\r\n     *\r\n     */\r\n    editEvent = (id, viewShared) => {\r\n        //accessing shared event collections\r\n        // if (viewShared) {\r\n        //     //db.collection(\"shared_events\").doc(id)\r\n        // }\r\n        // //accessing normal event collections\r\n        // else {\r\n        //     // db.collection(\"events\")\r\n        //     //     .doc(id)\r\n        //     //     .get()\r\n        //     //     .then(doc => {\r\n        //     //         if (doc.exists) {\r\n        //     //             localStorage.setItem(\r\n        //     //                 \"saved_title\",\r\n        //     //                 JSON.stringify(doc.data().title)\r\n        //     //             );\r\n        //     //             localStorage.setItem(\r\n        //     //                 \"saved_description\",\r\n        //     //                 JSON.stringify(doc.data().description)\r\n        //     //             );\r\n        //     //             localStorage.setItem(\r\n        //     //                 \"saved_category\",\r\n        //     //                 JSON.stringify(doc.data().category)\r\n        //     //             );\r\n        //     //             localStorage.setItem(\r\n        //     //                 \"saved_start_date\",\r\n        //     //                 JSON.stringify(doc.data().startDate)\r\n        //     //             );\r\n        //     //             localStorage.setItem(\r\n        //     //                 \"saved_end_date\",\r\n        //     //                 JSON.stringify(doc.data().endDate)\r\n        //     //             );\r\n        //     //         }\r\n        //     //     });\r\n        // }\r\n        db.collection(\"events\")\r\n                .doc(id)\r\n                .get()\r\n                .then(doc => {\r\n                    if (doc.exists) {\r\n                        console.log(\"GO\")\r\n                        localStorage.setItem(\r\n                            \"saved_title\",\r\n                            JSON.stringify(doc.data().title)\r\n                        );\r\n                        localStorage.setItem(\r\n                            \"saved_description\",\r\n                            JSON.stringify(doc.data().description)\r\n                        );\r\n                        localStorage.setItem(\r\n                            \"saved_category\",\r\n                            JSON.stringify(doc.data().category)\r\n                        );\r\n                        localStorage.setItem(\r\n                            \"saved_start_date\",\r\n                            JSON.stringify(doc.data().startDate)\r\n                        );\r\n                        localStorage.setItem(\r\n                            \"saved_end_date\",\r\n                            JSON.stringify(doc.data().endDate)\r\n                        );\r\n                        this.setState(\r\n                            {\r\n                                editingEvent: true,\r\n                                idOfEditEvent: id\r\n                            },\r\n                            this.setAdd()\r\n                        );\r\n                    }\r\n                });\r\n    };\r\n\r\n    /**\r\n     * @param id takes in the id of the event to be deleted\r\n     * @return {array} returns the updated array with\r\n     * event removed to the database\r\n     * @todo delete either shared or personal events\r\n     */\r\n\r\n    /**\r\n     * Cancels the process of event creation\r\n     * @return Return back to the home page\r\n     */\r\n    cancelEvent = () => {\r\n        // localStorage.removeItem(\"saved_title\");\r\n        // localStorage.removeItem(\"saved_description\");\r\n        // localStorage.removeItem(\"saved_time\");\r\n        // localStorage.removeItem(\"saved_date\");\r\n        this.setHomePage();\r\n    };\r\n\r\n    /**\r\n     * function to start add/edit event\r\n     * @return sets home page to false\r\n     */\r\n    setAdd = () => {\r\n        this.setState({ homePage: false });\r\n    };\r\n\r\n    /**\r\n     * Sets view back to home page\r\n     * @return Home Page\r\n     */\r\n    setHomePage = () => {\r\n        this.setState({\r\n            homePage: true,\r\n            editingEvent: false,\r\n            idOfEditEvent: \"\"\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Decides what to render, between the\r\n     * home page and event creation page\r\n     */\r\n    render() {\r\n        let joinDialog = this.state.joinEvent ? (\r\n            <Join open={true} beginJoinEvent={() => this.beginJoinEvent()} />\r\n        ) : null;\r\n        return (\r\n            <div>\r\n                <Header />\r\n                {this.state.homePage && (\r\n                    <EventHome\r\n                        beginAddEvent={this.beginAddEvent}\r\n                        beginJoinEvent={this.beginJoinEvent}\r\n                        editEvent={this.editEvent}\r\n                        deleteEvent={this.deleteEvent}\r\n                    />\r\n                )}\r\n                {!this.state.homePage && (\r\n                    <AddEvent\r\n                        cancelEvent={this.cancelEvent}\r\n                        setHomePage={() => this.setHomePage()}\r\n                        editingEvent={this.state.editingEvent}\r\n                        idOfEditEvent={this.state.idOfEditEvent}\r\n                    />\r\n                )}\r\n                {joinDialog}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EventManager;\r\n","import React, { Component } from \"react\";\r\nimport { firebase, db } from \"./firebase\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport logo from \"./logo.png\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { textAlign } from \"@material-ui/system\";\r\n\r\n// import firebase from \"firebase\";\r\n\r\nvar CLIENT_ID = \"YOUR_OAUTH_CLIENT_ID\";\r\nconst logoStyle = {\r\n    textAlign: \"center\"\r\n};\r\n\r\nconst logInStyle = {\r\n    textAlign: \"center\",\r\n    top: \"100%\",\r\n    fontSize: \"20px\",\r\n    position: \"relative\"\r\n};\r\nconst uiConfig = {\r\n    // Popup signin flow rather than redirect flow.\r\n    signInFlow: \"popup\",\r\n    // We will display Google and Facebook as auth providers.\r\n    signInOptions: [\r\n        {\r\n            provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n            authMethod: \"https://accounts.google.com\",\r\n            // Required to enable ID token credentials for this provider.\r\n            clientId: CLIENT_ID\r\n        },\r\n        {\r\n            provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n            requireDisplayName: true\r\n        }\r\n    ],\r\n    callbacks: {\r\n        // Avoid redirects after sign-in.\r\n        signInSuccessWithAuthResult: () => false\r\n    }\r\n};\r\n\r\nexport class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isSignedIn: false,\r\n            current_user_email: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        firebase.auth().onAuthStateChanged(user => {\r\n            if (user) {\r\n                this.setState({\r\n                    //isSignedIn: !!user\r\n                    isSignedIn: true\r\n                });\r\n                //locally store current user's email\r\n                localStorage.setItem(\"currentUser\", JSON.stringify(user.email));\r\n\r\n                //lets contacts data persist\r\n                let docReference = db.collection(\"users\").doc(user.email);\r\n                docReference.get().then(documentSnapshot => {\r\n                    if (!documentSnapshot.exists) {\r\n                        docReference.set({\r\n                            displayName: user.displayName,\r\n                            email: user.email,\r\n                            contacts: [],\r\n                            events: [],\r\n                            polls: [],\r\n                            pictureURL: user.photoURL,\r\n                        });\r\n                    }\r\n                });\r\n\r\n                let docRef = db.collection('users').doc(user.email);\r\n                docRef.get().then(doc => {\r\n                    if (!doc.exists) {\r\n                        //console.log('No such document!');\r\n                    } else {\r\n                        //console.log('Document data:', doc.data());\r\n                        this.setState({ picURL: doc.data().pictureURL });\r\n                    }\r\n                })\r\n                    .catch(err => {\r\n                        console.log('Error getting document', err);\r\n                    });\r\n            }\r\n            else {\r\n                this.setState({ isSignedIn: false })\r\n            }\r\n      });\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n            <div style={{\r\n                textAlign: \"center\",\r\n                backgroundColor: 'white',\r\n                height: '250px',\r\n                width: '300px',\r\n                margin: '0 auto'\r\n            }}>\r\n                <img\r\n                    src={logo}\r\n                    height=\"117px\"\r\n                    width=\"150px\"\r\n                    alt=\"Schedule It\" />\r\n                <br />\r\n                {this.state.isSignedIn ? (\r\n                    <div>\r\n                        <br />\r\n                        <br />\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            component={Link}\r\n                            to=\"/home\"\r\n                        >\r\n                            Home\r\n                        </Button>\r\n                    </div>\r\n                ) : (\r\n                        <StyledFirebaseAuth\r\n                            uiCallback={ui => ui.disableAutoSignIn()}\r\n                            uiConfig={uiConfig}\r\n                            firebaseAuth={firebase.auth()}\r\n                        />\r\n                    )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from \"react\";\r\nimport { firebase, db } from \"./firebase\";\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Header from \"./header\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MySnackbarContent from \"./Snackbar\";\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera';\r\n//import logo from \"./logo.png\";\r\n//import { textAlign } from \"@material-ui/system\";\r\n\r\nconst logInStyle = {\r\n    textAlign: \"center\",\r\n    top: \"100%\",\r\n    background: \"#fff\",\r\n    fontSize: \"20px\",\r\n    position: \"relative\"\r\n};\r\n\r\nexport class Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: null,\r\n            picURL: \"\",\r\n            oldURL: \"\",\r\n            nameDisplay: \"\",\r\n            current_user_email: \"\",\r\n            userName: \"\",\r\n            bioDisplay: \"\",\r\n            userBio: \"\",\r\n            isUploading: false,\r\n            progress: 0,\r\n            profilePic: \"\",\r\n            errorOpen: false,\r\n            successOpen: false,\r\n            message: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        let docRef = db.collection(\"users\")\r\n            .doc(JSON.parse(localStorage.getItem(\"currentUser\")));\r\n        docRef.get().then(doc => {\r\n            if (!doc.exists) {\r\n                //console.log('No such document!');\r\n            } else {\r\n                //console.log('Document data:', doc.data());\r\n                this.setState({ user: doc.data() });\r\n                this.setState({ picURL: doc.data().pictureURL });\r\n                this.setState({ nameDisplay: doc.data().displayName });\r\n                this.setState({ userName: doc.data().displayName });\r\n                this.setState({ current_user_email: doc.data().email });\r\n                this.setState({ bioDisplay: doc.data().bio });\r\n                this.setState({ userBio: doc.data().bio });\r\n                this.setState({ current_user_email: doc.data().email });\r\n                this.setState({ oldURL: doc.data().pictureURL });\r\n            }\r\n        })\r\n            .catch(err => {\r\n                console.log('Error getting document', err);\r\n            });\r\n    };\r\n\r\n    handleErrorClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n        this.setState({ errorOpen: false });\r\n    };\r\n    handleSuccessClose = (event, reason) => {\r\n        this.setState({ successOpen: false });\r\n    };\r\n    \r\n    // handle profile pic upload to Storage\r\n    handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\n\r\n    handleProgress = progress => this.setState({ progress });\r\n\r\n    handleUploadError = error => {\r\n        this.setState({\r\n            isUploading: false\r\n        });\r\n        console.error(error);\r\n    };\r\n\r\n    handleUploadSuccess = filename => {\r\n        this.setState({\r\n            profilePic: filename,\r\n            progress: 100,\r\n            isUploading: false,\r\n        });\r\n        firebase\r\n            .storage()\r\n            .ref(\"images\")\r\n            .child(filename)\r\n            .getDownloadURL()\r\n            .then(url => this.setState({ picURL: url }));\r\n    };\r\n\r\n    signOut = () => {\r\n        firebase.auth().signOut();\r\n        localStorage.clear();\r\n    };\r\n\r\n    //update profile info in db\r\n    updateDb = e => {\r\n        if (this.state.nameDisplay !== this.state.userName) {\r\n            db.collection(\"users\")\r\n                .doc(this.state.current_user_email)\r\n                .update({\r\n                    displayName: this.state.nameDisplay,\r\n                });\r\n            this.setState({\r\n                successOpen: true,\r\n                message: \"Successfully saved changes\"\r\n            });\r\n        }\r\n        if (this.state.bioDisplay !== this.state.userBio) {\r\n            db.collection(\"users\")\r\n                .doc(this.state.current_user_email)\r\n                .update({\r\n                    bio: this.state.bioDisplay\r\n                });\r\n            this.setState({\r\n                successOpen: true,\r\n                message: \"Successfully saved changes\"\r\n            });\r\n        }\r\n        if (this.state.picURL !== this.state.oldURL) {\r\n            db.collection(\"users\")\r\n                .doc(this.state.current_user_email)\r\n                .update({\r\n                    pictureURL: this.state.picURL\r\n                });\r\n            this.setState({\r\n                successOpen: true,\r\n                message: \"Successfully saved changes\"\r\n            });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ textAlign: \"center\" }}>\r\n                <Header />\r\n                <div style={logInStyle}>\r\n                    <img\r\n                        src={this.state.picURL}\r\n                        alt=\"Profile\"\r\n                        vertical-align=\"middle\"\r\n                        width=\"100px\"\r\n                        height=\"100px\"\r\n                        border-radius=\"50%\" />\r\n                    <br />\r\n                    <form onSubmit={this.updateDb}>\r\n                        <label>\r\n                            <FileUploader\r\n                                    hidden\r\n                                    accept=\"image/*\"\r\n                                    name=\"Profile Picture\"\r\n                                    randomizeFilename\r\n                                    storageRef={firebase.storage().ref(\"images\")}\r\n                                    onUploadStart={this.handleUploadStart}\r\n                                    onUploadError={this.handleUploadError}\r\n                                    onUploadSuccess={this.handleUploadSuccess}\r\n                                    onProgress={this.handleProgress}\r\n                                /><IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                                <PhotoCamera />\r\n                            </IconButton>\r\n                        </label>\r\n                        <br />\r\n                        <label style={{\r\n                            fontSize: 18\r\n                        }}>\r\n                            {this.state.current_user_email}\r\n                        </label>\r\n                        <br />\r\n                        <label style={{\r\n                            fontSize: 18,\r\n                        }}>\r\n                            Name\r\n                            </label>\r\n                        <br />\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"fullname\"\r\n                            size=\"26\"\r\n                            placeholder=\"Your name\"\r\n                            onChange={e => this.setState({ nameDisplay: e.target.value })}\r\n                            value={this.state.nameDisplay}\r\n                        />\r\n                        <br />\r\n                        <label style={{\r\n                            fontSize: 18,\r\n                        }}>\r\n                            Biography\r\n                            </label>\r\n                        <br />\r\n                        <textarea\r\n                            name=\"bioText\"\r\n                            rows=\"10\"\r\n                            cols=\"27\"\r\n                            placeholder=\"Biography\"\r\n                            value={this.state.bioDisplay}\r\n                            onChange={e => this.setState({ bioDisplay: e.target.value })}\r\n                        >\r\n                        </textarea>\r\n                        <br />\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            size=\"small\"\r\n                            type=\"submit\"\r\n                            margin=\"theme.spacing(1)\"\r\n                            startIcon={<SaveIcon />}\r\n                    >\r\n                        Save\r\n                        </Button>\r\n                    </form>\r\n                    <br />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => this.signOut()}\r\n                        size=\"small\"\r\n                        component={Link}\r\n                        to=\"/\"\r\n                    >\r\n                        Sign Out\r\n                    </Button>\r\n                    <Snackbar\r\n                        anchorOrigin={{\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"left\"\r\n                        }}\r\n                        open={this.state.errorOpen}\r\n                        autoHideDuration={10}\r\n                        onClose={this.state.handleErrorClose}\r\n                    >\r\n                        <MySnackbarContent\r\n                            onClose={this.state.handleErrorClose}\r\n                            variant=\"error\"\r\n                            message={this.state.message}\r\n                        />\r\n                    </Snackbar>\r\n                    <Snackbar\r\n                        anchorOrigin={{\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"left\"\r\n                        }}\r\n                        open={this.state.successOpen}\r\n                        autoHideDuration={10}\r\n                        onClose={this.state.handleSuccessClose}\r\n                    >\r\n                        <MySnackbarContent\r\n                            onClose={this.state.handleSuccessClose}\r\n                            variant=\"success\"\r\n                            message={this.state.message}\r\n                        />\r\n                    </Snackbar>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;","import React, { Component } from \"react\";\r\nimport { firebase, db } from \"./firebase\";\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Header from \"./header\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst profileStyle = {\r\n    textAlign: \"center\",\r\n    top: \"100%\",\r\n    background: \"#fff\",\r\n    fontSize: \"20px\",\r\n    position: \"relative\"\r\n};\r\n\r\nexport class ViewContactProfile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            contactEmail: \"\",\r\n            contactURL: \"\",\r\n            contactName: \"\",\r\n            contactBio: \"\",\r\n            // user: null,\r\n            // current_user_email: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        //JSON.parse(localStorage.getItem(\"currentUser\"))\r\n        let docRef = db.collection(\"users\")\r\n            .doc(JSON.parse(localStorage.getItem(\"selectedContact\")));\r\n        docRef.get().then(doc => {\r\n            if (!doc.exists) {\r\n                //console.log('No such document!');\r\n            } else {\r\n                //console.log('Document data:', doc.data());\r\n                this.setState({ contactEmail: doc.data().email });\r\n                this.setState({ contactURL: doc.data().pictureURL });\r\n                this.setState({ contactBio: doc.data().bio});\r\n                this.setState({ contactName: doc.data().displayName });\r\n            }\r\n        })\r\n            .catch(err => {\r\n                console.log('Error getting document', err);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ textAlign: \"center\" }}>\r\n                <div style={profileStyle}>\r\n                    <br/>\r\n                    <img\r\n                        src={this.state.contactURL}\r\n                        alt=\"Profile\"\r\n                        vertical-align=\"middle\"\r\n                        width=\"100px\"\r\n                        height=\"100px\"\r\n                        border-radius=\"50%\" />\r\n                    <br />\r\n                    <label> email: </label>\r\n                    {this.state.contactEmail}\r\n                    <br />\r\n                    <label> Name: </label>\r\n                    {this.state.contactName}\r\n                    <br />\r\n                    <label> Biography: </label>\r\n                    <br />\r\n                    {this.state.contactBio}\r\n                    <br />\r\n                    <br />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        size=\"small\"\r\n                        component={Link}\r\n                        to=\"/home\"\r\n                    >\r\n                        Home\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ViewContactProfile;","import React from \"react\";\r\nimport \"./App.css\";\r\nimport EventManager from \"./components/EventManager\";\r\nimport Login from './components/Login'\r\nimport Profile from './components/Profile'\r\nimport ViewContactProfile from './components/ViewContactProfile'\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <Login />\r\n                </Route>\r\n                <Route exact path=\"/home\">\r\n                    <EventManager />\r\n                </Route>\r\n                <Route exact path=\"/profile\">\r\n                    <Profile />\r\n                </Route>\r\n                <Route exact path=\"/contact\">\r\n                    <ViewContactProfile />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.88ca5a89.png\";"],"sourceRoot":""}